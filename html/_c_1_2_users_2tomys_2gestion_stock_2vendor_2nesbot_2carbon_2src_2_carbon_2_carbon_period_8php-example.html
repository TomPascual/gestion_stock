<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gestion_stock: C:/Users/tomys/gestion_stock/vendor/nesbot/carbon/src/Carbon/CarbonPeriod.php</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">gestion_stock
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('_c_1_2_users_2tomys_2gestion_stock_2vendor_2nesbot_2carbon_2src_2_carbon_2_carbon_period_8php-example.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">C:/Users/tomys/gestion_stock/vendor/nesbot/carbon/src/Carbon/CarbonPeriod.php</div></div>
</div><!--header-->
<div class="contents">
<p>Register a custom macro.</p>
<p>Pass null macro to remove it.</p>
<div class="fragment"><div class="line">CarbonPeriod::macro(<span class="stringliteral">&#39;middle&#39;</span>, <span class="keyword">function</span> () {</div>
<div class="line">  <span class="keywordflow">return</span> $this-&gt;getStartDate()-&gt;average($this-&gt;getEndDate());</div>
<div class="line">});</div>
<div class="line">echo CarbonPeriod::since(<span class="stringliteral">&#39;2011-05-12&#39;</span>)-&gt;until(<span class="stringliteral">&#39;2011-06-03&#39;</span>)-&gt;middle();</div>
</div><!-- fragment --><div class="fragment"><div class="line">&lt;?php</div>
<div class="line"> </div>
<div class="line">declare(strict_types=1);</div>
<div class="line"></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span><a class="code hl_namespace" href="namespace_carbon.html">Carbon</a>;</div>
<div class="line"> </div>
<div class="line">use <a id="_a0" name="_a0"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_end_less_period_exception.html">Carbon\Exceptions\EndLessPeriodException</a>;</div>
<div class="line">use <a id="_a1" name="_a1"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_invalid_cast_exception.html">Carbon\Exceptions\InvalidCastException</a>;</div>
<div class="line">use <a id="_a2" name="_a2"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_invalid_interval_exception.html">Carbon\Exceptions\InvalidIntervalException</a>;</div>
<div class="line">use <a id="_a3" name="_a3"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_invalid_period_date_exception.html">Carbon\Exceptions\InvalidPeriodDateException</a>;</div>
<div class="line">use <a id="_a4" name="_a4"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_invalid_period_parameter_exception.html">Carbon\Exceptions\InvalidPeriodParameterException</a>;</div>
<div class="line">use <a id="_a5" name="_a5"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_not_a_carbon_class_exception.html">Carbon\Exceptions\NotACarbonClassException</a>;</div>
<div class="line">use <a id="_a6" name="_a6"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_not_a_period_exception.html">Carbon\Exceptions\NotAPeriodException</a>;</div>
<div class="line">use <a id="_a7" name="_a7"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_unknown_getter_exception.html">Carbon\Exceptions\UnknownGetterException</a>;</div>
<div class="line">use <a id="_a8" name="_a8"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_unknown_method_exception.html">Carbon\Exceptions\UnknownMethodException</a>;</div>
<div class="line">use <a id="_a9" name="_a9"></a><a class="code hl_class" href="class_carbon_1_1_exceptions_1_1_unreachable_exception.html">Carbon\Exceptions\UnreachableException</a>;</div>
<div class="line">use Carbon\Traits\DeprecatedPeriodProperties;</div>
<div class="line">use Carbon\Traits\IntervalRounding;</div>
<div class="line">use Carbon\Traits\LocalFactory;</div>
<div class="line">use <a class="code hl_variable" href="namespace_carbon_1_1_traits.html#a207b78e926a0ab853f96b34d9beb2981">Carbon\Traits\Mixin</a>;</div>
<div class="line">use Carbon\Traits\Options;</div>
<div class="line">use Carbon\Traits\ToStringFormat;</div>
<div class="line">use Closure;</div>
<div class="line">use Countable;</div>
<div class="line">use DateInterval;</div>
<div class="line">use DatePeriod;</div>
<div class="line">use DateTime;</div>
<div class="line">use DateTimeImmutable;</div>
<div class="line">use DateTimeInterface;</div>
<div class="line">use DateTimeZone;</div>
<div class="line">use Generator;</div>
<div class="line">use InvalidArgumentException;</div>
<div class="line">use JsonSerializable;</div>
<div class="line">use ReflectionException;</div>
<div class="line">use ReturnTypeWillChange;</div>
<div class="line">use RuntimeException;</div>
<div class="line">use Throwable;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// @codeCoverageIgnoreStart</span></div>
<div class="line">require PHP_VERSION &lt; 8.2</div>
<div class="line">    ? __DIR__.<span class="stringliteral">&#39;/../../lazy/Carbon/ProtectedDatePeriod.php&#39;</span></div>
<div class="line">    : __DIR__.<span class="stringliteral">&#39;/../../lazy/Carbon/UnprotectedDatePeriod.php&#39;</span>;</div>
<div class="line"><span class="comment">// @codeCoverageIgnoreEnd</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>CarbonPeriod <span class="keyword">extends</span> DatePeriodBase implements Countable, JsonSerializable</div>
<div class="line">{</div>
<div class="line">    use LocalFactory;</div>
<div class="line">    use IntervalRounding;</div>
<div class="line">    use Mixin {</div>
<div class="line">        Mixin::mixin as baseMixin;</div>
<div class="line">    }</div>
<div class="line">    use Options {</div>
<div class="line">        Options::__debugInfo as baseDebugInfo;</div>
<div class="line">    }</div>
<div class="line">    use ToStringFormat;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">const</span> RECURRENCES_FILTER = [self::class, <span class="stringliteral">&#39;filterRecurrences&#39;</span>];</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">const</span> END_DATE_FILTER = [self::class, <span class="stringliteral">&#39;filterEndDate&#39;</span>];</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">const</span> END_ITERATION = [self::class, <span class="stringliteral">&#39;endIteration&#39;</span>];</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">const</span> EXCLUDE_END_DATE = 8;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">const</span> IMMUTABLE = 4;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">const</span> NEXT_MAX_ATTEMPTS = 1000;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">const</span> END_MAX_ATTEMPTS = 10000;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">const</span> DEFAULT_DATE_CLASS = Carbon::class;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> array $macros = [];</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keywordtype">string</span> $dateClass = Carbon::class;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> ?CarbonInterval $dateInterval = <span class="keyword">null</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keywordtype">bool</span> $constructed = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keywordtype">bool</span> $isDefaultInterval = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> array $filters = [];</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> ?CarbonInterface $startDate = <span class="keyword">null</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> ?CarbonInterface $endDate = <span class="keyword">null</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keywordtype">int</span>|<span class="keywordtype">float</span>|<span class="keyword">null</span> $carbonRecurrences = <span class="keyword">null</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> ?<span class="keywordtype">int</span> $options = <span class="keyword">null</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keywordtype">int</span> $key = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> ?CarbonInterface $carbonCurrent = <span class="keyword">null</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> ?DateTimeZone $timezone = <span class="keyword">null</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> array|<span class="keywordtype">string</span>|<span class="keywordtype">bool</span>|<span class="keyword">null</span> $validationResult = <span class="keyword">null</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> DateTimeZone|<span class="keywordtype">string</span>|<span class="keywordtype">int</span>|<span class="keyword">null</span> $timezoneSetting = <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getIterator(): Generator</div>
<div class="line">    {</div>
<div class="line">        $this-&gt;rewind();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">while</span> ($this-&gt;valid()) {</div>
<div class="line">            $key = $this-&gt;key();</div>
<div class="line">            $value = $this-&gt;current();</div>
<div class="line"> </div>
<div class="line">            yield $key =&gt; $value;</div>
<div class="line"> </div>
<div class="line">            $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a1d205f624ba624539b6d0771578b1874">next</a>();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> make(mixed $var): ?static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">try</span> {</div>
<div class="line">            <span class="keywordflow">return</span> static::instance($var);</div>
<div class="line">        } <span class="keywordflow">catch</span> (NotAPeriodException) {</div>
<div class="line">            <span class="keywordflow">return</span> static::create($var);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> instance(mixed $period): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($period instanceof <span class="keyword">static</span>) {</div>
<div class="line">            <span class="keywordflow">return</span> $period-&gt;copy();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($period instanceof <span class="keyword">self</span>) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keyword">static</span>(</div>
<div class="line">                $period-&gt;getStartDate(),</div>
<div class="line">                $period-&gt;getEndDate() ?? $period-&gt;getRecurrences(),</div>
<div class="line">                $period-&gt;getDateInterval(),</div>
<div class="line">                $period-&gt;getOptions(),</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($period instanceof DatePeriod) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keyword">static</span>(</div>
<div class="line">                $period-&gt;start,</div>
<div class="line">                $period-&gt;end ?: ($period-&gt;recurrences - 1),</div>
<div class="line">                $period-&gt;interval,</div>
<div class="line">                $period-&gt;include_start_date ? 0 : static::EXCLUDE_START_DATE,</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $class = static::class;</div>
<div class="line">        $type = \gettype($period);</div>
<div class="line">        $chunks = explode(<span class="stringliteral">&#39;::&#39;</span>, __METHOD__);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">throw</span> <span class="keyword">new</span> NotAPeriodException(</div>
<div class="line">            <span class="stringliteral">&#39;Argument 1 passed to &#39;</span>.$class.<span class="stringliteral">&#39;::&#39;</span>.end($chunks).<span class="stringliteral">&#39;() &#39;</span>.</div>
<div class="line">            <span class="stringliteral">&#39;must be an instance of DatePeriod or &#39;</span>.$class.<span class="stringliteral">&#39;, &#39;</span>.</div>
<div class="line">            ($type === <span class="stringliteral">&#39;object&#39;</span> ? <span class="stringliteral">&#39;instance of &#39;</span>.\get_class($period) : $type).<span class="stringliteral">&#39; given.&#39;</span>,</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> create(...$params): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> static::createFromArray($params);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> createFromArray(array $params): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> <span class="keyword">static</span>(...$params);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> createFromIso(<span class="keywordtype">string</span> $iso, ?<span class="keywordtype">int</span> $options = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        $params = static::parseIso8601($iso);</div>
<div class="line"> </div>
<div class="line">        $instance = static::createFromArray($params);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($options !== <span class="keyword">null</span>) {</div>
<div class="line">            $instance-&gt;options = $options;</div>
<div class="line">            $instance-&gt;handleChangedParameters();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $instance;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> intervalHasTime(DateInterval $interval): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $interval-&gt;h || $interval-&gt;i || $interval-&gt;s || $interval-&gt;f;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> isIso8601(mixed $var): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!\is_string($var)) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Match slash but not within a timezone name.</span></div>
<div class="line">        $part = <span class="stringliteral">&#39;[a-z]+(?:[_-][a-z]+)*&#39;</span>;</div>
<div class="line"> </div>
<div class="line">        preg_match(<span class="stringliteral">&quot;#\b$part/$part\b|(/)#i&quot;</span>, $var, $match);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> isset($match[1]);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> parseIso8601(<span class="keywordtype">string</span> $iso): array</div>
<div class="line">    {</div>
<div class="line">        $result = [];</div>
<div class="line"> </div>
<div class="line">        $interval = <span class="keyword">null</span>;</div>
<div class="line">        $start = <span class="keyword">null</span>;</div>
<div class="line">        $end = <span class="keyword">null</span>;</div>
<div class="line">        $dateClass = static::DEFAULT_DATE_CLASS;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">foreach</span> (explode(<span class="charliteral">&#39;/&#39;</span>, $iso) as $key =&gt; $part) {</div>
<div class="line">            <span class="keywordflow">if</span> ($key === 0 &amp;&amp; preg_match(<span class="stringliteral">&#39;/^R(\d*|INF)$/&#39;</span>, $part, $match)) {</div>
<div class="line">                $parsed = \strlen($match[1]) ? (($match[1] !== <span class="stringliteral">&#39;INF&#39;</span>) ? (int) $match[1] : INF) : null;</div>
<div class="line">            } elseif ($interval === <span class="keyword">null</span> &amp;&amp; $parsed = self::makeInterval($part)) {</div>
<div class="line">                $interval = $part;</div>
<div class="line">            } elseif ($start === <span class="keyword">null</span> &amp;&amp; $parsed = $dateClass::make($part)) {</div>
<div class="line">                $start = $part;</div>
<div class="line">            } elseif ($end === <span class="keyword">null</span> &amp;&amp; $parsed = $dateClass::make(static::addMissingParts($start ?? <span class="stringliteral">&#39;&#39;</span>, $part))) {</div>
<div class="line">                $end = $part;</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidPeriodParameterException(<span class="stringliteral">&quot;Invalid ISO 8601 specification: $iso.&quot;</span>);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            $result[] = $parsed;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $result;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">static</span> <span class="keyword">function</span> addMissingParts(<span class="keywordtype">string</span> $source, <span class="keywordtype">string</span> $target): string</div>
<div class="line">    {</div>
<div class="line">        $pattern = <span class="charliteral">&#39;/&#39;</span>.preg_replace(<span class="stringliteral">&#39;/\d+/&#39;</span>, <span class="stringliteral">&#39;[0-9]+&#39;</span>, preg_quote($target, <span class="charliteral">&#39;/&#39;</span>)).<span class="stringliteral">&#39;$/&#39;</span>;</div>
<div class="line"> </div>
<div class="line">        $result = preg_replace($pattern, $target, $source, 1, $count);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $count ? $result : $target;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">function</span> makeInterval(mixed $input): ?CarbonInterval</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">try</span> {</div>
<div class="line">            <span class="keywordflow">return</span> CarbonInterval::make($input);</div>
<div class="line">        } <span class="keywordflow">catch</span> (Throwable) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">function</span> makeTimezone(mixed $input): ?CarbonTimeZone</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!\is_string($input)) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">try</span> {</div>
<div class="line">            <span class="keywordflow">return</span> CarbonTimeZone::create($input);</div>
<div class="line">        } <span class="keywordflow">catch</span> (Throwable) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> macro(<span class="keywordtype">string</span> $name, ?callable $macro): void</div>
<div class="line">    {</div>
<div class="line">        static::$macros[$name] = $macro;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> mixin(<span class="keywordtype">object</span>|<span class="keywordtype">string</span> $mixin): void</div>
<div class="line">    {</div>
<div class="line">        static::baseMixin($mixin);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> hasMacro(<span class="keywordtype">string</span> $name): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> isset(static::$macros[$name]);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> __callStatic(<span class="keywordtype">string</span> $method, array $parameters): mixed</div>
<div class="line">    {</div>
<div class="line">        $date = <span class="keyword">new</span> <span class="keyword">static</span>();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (static::hasMacro($method)) {</div>
<div class="line">            <span class="keywordflow">return</span> static::bindMacroContext(<span class="keyword">null</span>, <span class="keyword">static</span> fn () =&gt; $date-&gt;callMacro($method, $parameters));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $date-&gt;$method(...$parameters);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> __construct(...$arguments)</div>
<div class="line">    {</div>
<div class="line">        $raw = <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (isset($arguments[<span class="stringliteral">&#39;raw&#39;</span>])) {</div>
<div class="line">            $raw = $arguments[<span class="stringliteral">&#39;raw&#39;</span>];</div>
<div class="line">            $this-&gt;isDefaultInterval = $arguments[<span class="stringliteral">&#39;isDefaultInterval&#39;</span>] ?? <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (isset($arguments[<span class="stringliteral">&#39;dateClass&#39;</span>])) {</div>
<div class="line">                $this-&gt;dateClass = $arguments[<span class="stringliteral">&#39;dateClass&#39;</span>];</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            $arguments = $raw;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Parse and assign arguments one by one. First argument may be an ISO 8601 spec,</span></div>
<div class="line">        <span class="comment">// which will be first parsed into parts and then processed the same way.</span></div>
<div class="line"> </div>
<div class="line">        $argumentsCount = \count($arguments);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($argumentsCount &amp;&amp; static::isIso8601($iso = $arguments[0])) {</div>
<div class="line">            array_splice($arguments, 0, 1, static::parseIso8601($iso));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($argumentsCount === 1) {</div>
<div class="line">            <span class="keywordflow">if</span> ($arguments[0] instanceof <span class="keyword">self</span>) {</div>
<div class="line">                $arguments = [</div>
<div class="line">                    $arguments[0]-&gt;getStartDate(),</div>
<div class="line">                    $arguments[0]-&gt;getEndDate() ?? $arguments[0]-&gt;getRecurrences(),</div>
<div class="line">                    $arguments[0]-&gt;getDateInterval(),</div>
<div class="line">                    $arguments[0]-&gt;getOptions(),</div>
<div class="line">                ];</div>
<div class="line">            } elseif ($arguments[0] instanceof DatePeriod) {</div>
<div class="line">                $arguments = [</div>
<div class="line">                    $arguments[0]-&gt;start,</div>
<div class="line">                    $arguments[0]-&gt;end ?: ($arguments[0]-&gt;recurrences - 1),</div>
<div class="line">                    $arguments[0]-&gt;interval,</div>
<div class="line">                    $arguments[0]-&gt;include_start_date ? 0 : static::EXCLUDE_START_DATE,</div>
<div class="line">                ];</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (is_a($this-&gt;dateClass, DateTimeImmutable::class, <span class="keyword">true</span>)) {</div>
<div class="line">            $this-&gt;options = static::IMMUTABLE;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $optionsSet = <span class="keyword">false</span>;</div>
<div class="line">        $originalArguments = [];</div>
<div class="line">        $sortedArguments = [];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">foreach</span> ($arguments as $argument) {</div>
<div class="line">            $parsedDate = <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> ($argument instanceof DateTimeZone) {</div>
<div class="line">                $sortedArguments = $this-&gt;configureTimezone($argument, $sortedArguments, $originalArguments);</div>
<div class="line">            } elseif (!isset($sortedArguments[<span class="stringliteral">&#39;interval&#39;</span>]) &amp;&amp;</div>
<div class="line">                (</div>
<div class="line">                    (\is_string($argument) &amp;&amp; preg_match(</div>
<div class="line">                        <span class="stringliteral">&#39;/^(-?\d(\d(?![\/-])|[^\d\/-]([\/-])?)*|P[T\d].*|(?:\h*\d+(?:\.\d+)?\h*[a-z]+)+)$/i&#39;</span>,</div>
<div class="line">                        $argument,</div>
<div class="line">                    )) ||</div>
<div class="line">                    $argument instanceof DateInterval ||</div>
<div class="line">                    $argument instanceof Closure ||</div>
<div class="line">                    $argument instanceof Unit</div>
<div class="line">                ) &amp;&amp;</div>
<div class="line">                $parsedInterval = self::makeInterval($argument)</div>
<div class="line">            ) {</div>
<div class="line">                $sortedArguments[<span class="stringliteral">&#39;interval&#39;</span>] = $parsedInterval;</div>
<div class="line">            } elseif (!isset($sortedArguments[<span class="stringliteral">&#39;start&#39;</span>]) &amp;&amp; $parsedDate = $this-&gt;makeDateTime($argument)) {</div>
<div class="line">                $sortedArguments[<span class="stringliteral">&#39;start&#39;</span>] = $parsedDate;</div>
<div class="line">                $originalArguments[<span class="stringliteral">&#39;start&#39;</span>] = $argument;</div>
<div class="line">            } elseif (!isset($sortedArguments[<span class="stringliteral">&#39;end&#39;</span>]) &amp;&amp; ($parsedDate = $parsedDate ?? $this-&gt;makeDateTime($argument))) {</div>
<div class="line">                $sortedArguments[<span class="stringliteral">&#39;end&#39;</span>] = $parsedDate;</div>
<div class="line">                $originalArguments[<span class="stringliteral">&#39;end&#39;</span>] = $argument;</div>
<div class="line">            } elseif (!isset($sortedArguments[<span class="stringliteral">&#39;recurrences&#39;</span>]) &amp;&amp;</div>
<div class="line">                !isset($sortedArguments[<span class="stringliteral">&#39;end&#39;</span>]) &amp;&amp;</div>
<div class="line">                (\is_int($argument) || \is_float($argument))</div>
<div class="line">                &amp;&amp; $argument &gt;= 0</div>
<div class="line">            ) {</div>
<div class="line">                $sortedArguments[<span class="stringliteral">&#39;recurrences&#39;</span>] = $argument;</div>
<div class="line">            } elseif (!$optionsSet &amp;&amp; (\is_int($argument) || $argument === <span class="keyword">null</span>)) {</div>
<div class="line">                $optionsSet = <span class="keyword">true</span>;</div>
<div class="line">                $sortedArguments[<span class="stringliteral">&#39;options&#39;</span>] = (((int) $this-&gt;options) | ((int) $argument));</div>
<div class="line">            } elseif ($parsedTimezone = self::makeTimezone($argument)) {</div>
<div class="line">                $sortedArguments = $this-&gt;configureTimezone($parsedTimezone, $sortedArguments, $originalArguments);</div>
<div class="line">            } <span class="keywordflow">else</span> {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidPeriodParameterException(<span class="stringliteral">&#39;Invalid constructor parameters.&#39;</span>);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($raw === <span class="keyword">null</span> &amp;&amp; isset($sortedArguments[<span class="stringliteral">&#39;start&#39;</span>])) {</div>
<div class="line">            $end = $sortedArguments[<span class="stringliteral">&#39;end&#39;</span>] ?? max(1, $sortedArguments[<span class="stringliteral">&#39;recurrences&#39;</span>] ?? 1);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (\is_float($end)) {</div>
<div class="line">                $end = $end === INF ? PHP_INT_MAX : (int) <a class="code hl_function" href="namespace_carbon_1_1_traits.html#a6d476188a9de4ba1dcbc6cb2a9e8d2cf">round</a>($end);</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            $raw = [</div>
<div class="line">                $sortedArguments[<span class="stringliteral">&#39;start&#39;</span>],</div>
<div class="line">                $sortedArguments[<span class="stringliteral">&#39;interval&#39;</span>] ?? CarbonInterval::day(),</div>
<div class="line">                $end,</div>
<div class="line">            ];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $this-&gt;setFromAssociativeArray($sortedArguments);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;startDate === <span class="keyword">null</span>) {</div>
<div class="line">            $dateClass = $this-&gt;dateClass;</div>
<div class="line">            $this-&gt;setStartDate($dateClass::now());</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;dateInterval === <span class="keyword">null</span>) {</div>
<div class="line">            $this-&gt;setDateInterval(CarbonInterval::day());</div>
<div class="line"> </div>
<div class="line">            $this-&gt;isDefaultInterval = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;options === <span class="keyword">null</span>) {</div>
<div class="line">            $this-&gt;setOptions(0);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        parent::__construct(</div>
<div class="line">            $this-&gt;startDate,</div>
<div class="line">            $this-&gt;dateInterval,</div>
<div class="line">            $this-&gt;endDate ?? $this-&gt;recurrences ?? 1,</div>
<div class="line">            $this-&gt;options,</div>
<div class="line">        );</div>
<div class="line">        $this-&gt;constructed = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#abcabadb9d4fc0e4fa30f654d839b925e">copy</a>(): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#ab9cb43f7b45f227d2426299bac08b6ef">clone</a> $this;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> copyIfImmutable(): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> getGetter(<span class="keywordtype">string</span> $name): ?callable</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> match (strtolower(preg_replace(<span class="stringliteral">&#39;/[A-Z]/&#39;</span>, <span class="stringliteral">&#39;_$0&#39;</span>, $name))) {</div>
<div class="line">            <span class="stringliteral">&#39;start&#39;</span>, <span class="stringliteral">&#39;start_date&#39;</span> =&gt; [$this, <span class="stringliteral">&#39;getStartDate&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;end&#39;</span>, <span class="stringliteral">&#39;end_date&#39;</span> =&gt; [$this, <span class="stringliteral">&#39;getEndDate&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;interval&#39;</span>, <span class="stringliteral">&#39;date_interval&#39;</span> =&gt; [$this, <span class="stringliteral">&#39;getDateInterval&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;recurrences&#39;</span> =&gt; [$this, <span class="stringliteral">&#39;getRecurrences&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;include_start_date&#39;</span> =&gt; [$this, <span class="stringliteral">&#39;isStartIncluded&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;include_end_date&#39;</span> =&gt; [$this, <span class="stringliteral">&#39;isEndIncluded&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;current&#39;</span> =&gt; [$this, <span class="stringliteral">&#39;current&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;locale&#39;</span> =&gt; [$this, <span class="stringliteral">&#39;locale&#39;</span>],</div>
<div class="line">            <span class="stringliteral">&#39;tzname&#39;</span>, <span class="stringliteral">&#39;tz_name&#39;</span> =&gt; fn () =&gt; match (<span class="keyword">true</span>) {</div>
<div class="line">                $this-&gt;timezoneSetting === <span class="keyword">null</span> =&gt; <span class="keyword">null</span>,</div>
<div class="line">                \is_string($this-&gt;timezoneSetting) =&gt; $this-&gt;timezoneSetting,</div>
<div class="line">                $this-&gt;timezoneSetting instanceof DateTimeZone =&gt; $this-&gt;timezoneSetting-&gt;getName(),</div>
<div class="line">                <span class="keywordflow">default</span> =&gt; CarbonTimeZone::instance($this-&gt;timezoneSetting)-&gt;getName(),</div>
<div class="line">            },</div>
<div class="line">            <span class="keywordflow">default</span> =&gt; <span class="keyword">null</span>,</div>
<div class="line">        };</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <span class="keyword">get</span>(<span class="keywordtype">string</span> $name)</div>
<div class="line">    {</div>
<div class="line">        $getter = $this-&gt;getGetter($name);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($getter) {</div>
<div class="line">            <span class="keywordflow">return</span> $getter();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">throw</span> <span class="keyword">new</span> UnknownGetterException($name);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> __get(<span class="keywordtype">string</span> $name)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;<span class="keyword">get</span>($name);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#ad2798ec13e7618cacb973ab9666e58ea">__isset</a>(<span class="keywordtype">string</span> $name): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getGetter($name) !== <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#ab9cb43f7b45f227d2426299bac08b6ef">clone</a>()</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#ab9cb43f7b45f227d2426299bac08b6ef">clone</a> $this;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> setDateClass(<span class="keywordtype">string</span> $dateClass)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!is_a($dateClass, CarbonInterface::class, <span class="keyword">true</span>)) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> NotACarbonClassException($dateClass);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;dateClass = $dateClass;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (is_a($dateClass, Carbon::class, <span class="keyword">true</span>)) {</div>
<div class="line">            $self-&gt;options = $self-&gt;options &amp; ~static::IMMUTABLE;</div>
<div class="line">        } elseif (is_a($dateClass, CarbonImmutable::class, <span class="keyword">true</span>)) {</div>
<div class="line">            $self-&gt;options = $self-&gt;options | static::IMMUTABLE;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getDateClass(): string</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;dateClass;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> setDateInterval(mixed $interval, Unit|<span class="keywordtype">string</span>|<span class="keyword">null</span> $unit = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($interval instanceof Unit) {</div>
<div class="line">            $interval = $interval-&gt;interval();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($unit instanceof Unit) {</div>
<div class="line">            $unit = $unit-&gt;name;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$interval = CarbonInterval::make($interval, $unit)) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidIntervalException(<span class="stringliteral">&#39;Invalid interval.&#39;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($interval-&gt;spec() === <span class="stringliteral">&#39;PT0S&#39;</span> &amp;&amp; !$interval-&gt;f &amp;&amp; !$interval-&gt;getStep()) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidIntervalException(<span class="stringliteral">&#39;Empty interval is not accepted.&#39;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;dateInterval = $interval;</div>
<div class="line"> </div>
<div class="line">        $self-&gt;isDefaultInterval = <span class="keyword">false</span>;</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> resetDateInterval(): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;setDateInterval(CarbonInterval::day());</div>
<div class="line"> </div>
<div class="line">        $self-&gt;isDefaultInterval = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> invertDateInterval(): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;setDateInterval($this-&gt;dateInterval-&gt;invert());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> setDates(mixed $start, mixed $end): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;setStartDate($start)-&gt;setEndDate($end);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> setOptions(?<span class="keywordtype">int</span> $options): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;options = $options ?? 0;</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getOptions(): int</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;options ?? 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> toggleOptions(<span class="keywordtype">int</span> $options, ?<span class="keywordtype">bool</span> $state = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($state === <span class="keyword">null</span>) {</div>
<div class="line">            $state = ($this-&gt;options &amp; $options) !== $options;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self-&gt;setOptions(</div>
<div class="line">            $state ?</div>
<div class="line">            $this-&gt;options | $options :</div>
<div class="line">            $this-&gt;options &amp; ~$options,</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> excludeStartDate(<span class="keywordtype">bool</span> $state = <span class="keyword">true</span>): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;toggleOptions(static::EXCLUDE_START_DATE, $state);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> excludeEndDate(<span class="keywordtype">bool</span> $state = <span class="keyword">true</span>): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;toggleOptions(static::EXCLUDE_END_DATE, $state);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getDateInterval(): CarbonInterval</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;dateInterval-&gt;copy();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getStartDate(?<span class="keywordtype">string</span> $rounding = <span class="keyword">null</span>): CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        $date = $this-&gt;startDate-&gt;avoidMutation();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $rounding ? $date-&gt;round($this-&gt;getDateInterval(), $rounding) : $date;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getEndDate(?<span class="keywordtype">string</span> $rounding = <span class="keyword">null</span>): ?CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;endDate) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $date = $this-&gt;endDate-&gt;avoidMutation();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $rounding ? $date-&gt;round($this-&gt;getDateInterval(), $rounding) : $date;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">    #[ReturnTypeWillChange]</span></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getRecurrences(): int|float|null</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;carbonRecurrences;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isStartExcluded(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> ($this-&gt;options &amp; static::EXCLUDE_START_DATE) !== 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isEndExcluded(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> ($this-&gt;options &amp; static::EXCLUDE_END_DATE) !== 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isStartIncluded(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> !$this-&gt;isStartExcluded();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isEndIncluded(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> !$this-&gt;isEndExcluded();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getIncludedStartDate(): CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        $start = $this-&gt;getStartDate();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;isStartExcluded()) {</div>
<div class="line">            <span class="keywordflow">return</span> $start-&gt;add($this-&gt;getDateInterval());</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $start;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getIncludedEndDate(): CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        $end = $this-&gt;getEndDate();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$end) {</div>
<div class="line">            <span class="keywordflow">return</span> $this-&gt;calculateEnd();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;isEndExcluded()) {</div>
<div class="line">            <span class="keywordflow">return</span> $end-&gt;sub($this-&gt;getDateInterval());</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $end;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> addFilter(callable|<span class="keywordtype">string</span> $callback, ?<span class="keywordtype">string</span> $name = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $tuple = $self-&gt;createFilterTuple(\func_get_args());</div>
<div class="line"> </div>
<div class="line">        $self-&gt;filters[] = $tuple;</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> prependFilter(callable|<span class="keywordtype">string</span> $callback, ?<span class="keywordtype">string</span> $name = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $tuple = $self-&gt;createFilterTuple(\func_get_args());</div>
<div class="line"> </div>
<div class="line">        array_unshift($self-&gt;filters, $tuple);</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> removeFilter(callable|<span class="keywordtype">string</span> $filter): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $key = \is_callable($filter) ? 0 : 1;</div>
<div class="line"> </div>
<div class="line">        $self-&gt;filters = array_values(array_filter(</div>
<div class="line">            $this-&gt;filters,</div>
<div class="line">            <span class="keyword">static</span> fn ($tuple) =&gt; $tuple[$key] !== $filter,</div>
<div class="line">        ));</div>
<div class="line"> </div>
<div class="line">        $self-&gt;updateInternalState();</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> hasFilter(callable|<span class="keywordtype">string</span> $filter): bool</div>
<div class="line">    {</div>
<div class="line">        $key = \is_callable($filter) ? 0 : 1;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">foreach</span> ($this-&gt;filters as $tuple) {</div>
<div class="line">            <span class="keywordflow">if</span> ($tuple[$key] === $filter) {</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> getFilters(): array</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;filters;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> setFilters(array $filters): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;filters = $filters;</div>
<div class="line"> </div>
<div class="line">        $self-&gt;updateInternalState();</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> resetFilters(): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;filters = [];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;endDate !== <span class="keyword">null</span>) {</div>
<div class="line">            $self-&gt;filters[] = [static::END_DATE_FILTER, <span class="keyword">null</span>];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;carbonRecurrences !== <span class="keyword">null</span>) {</div>
<div class="line">            $self-&gt;filters[] = [static::RECURRENCES_FILTER, <span class="keyword">null</span>];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> setRecurrences(<span class="keywordtype">int</span>|<span class="keywordtype">float</span>|<span class="keyword">null</span> $recurrences): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($recurrences === <span class="keyword">null</span>) {</div>
<div class="line">            <span class="keywordflow">return</span> $this-&gt;removeFilter(static::RECURRENCES_FILTER);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($recurrences &lt; 0) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidPeriodParameterException(<span class="stringliteral">&#39;Invalid number of recurrences.&#39;</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;carbonRecurrences = $recurrences === INF ? INF : (int) $recurrences;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$self-&gt;hasFilter(static::RECURRENCES_FILTER)) {</div>
<div class="line">            <span class="keywordflow">return</span> $self-&gt;addFilter(static::RECURRENCES_FILTER);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> setStartDate(mixed $date, ?<span class="keywordtype">bool</span> $inclusive = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;isInfiniteDate($date) &amp;&amp; !($date = ([$this-&gt;dateClass, <span class="stringliteral">&#39;make&#39;</span>])($date, $this-&gt;timezone))) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidPeriodDateException(<span class="stringliteral">&#39;Invalid start date.&#39;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;startDate = $date;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($inclusive !== <span class="keyword">null</span>) {</div>
<div class="line">            $self = $self-&gt;toggleOptions(static::EXCLUDE_START_DATE, !$inclusive);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> setEndDate(mixed $date, ?<span class="keywordtype">bool</span> $inclusive = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($date !== <span class="keyword">null</span> &amp;&amp; !$this-&gt;isInfiniteDate($date) &amp;&amp; !$date = ([$this-&gt;dateClass, <span class="stringliteral">&#39;make&#39;</span>])($date, $this-&gt;timezone)) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidPeriodDateException(<span class="stringliteral">&#39;Invalid end date.&#39;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$date) {</div>
<div class="line">            <span class="keywordflow">return</span> $this-&gt;removeFilter(static::END_DATE_FILTER);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;endDate = $date;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($inclusive !== <span class="keyword">null</span>) {</div>
<div class="line">            $self = $self-&gt;toggleOptions(static::EXCLUDE_END_DATE, !$inclusive);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$self-&gt;hasFilter(static::END_DATE_FILTER)) {</div>
<div class="line">            <span class="keywordflow">return</span> $self-&gt;addFilter(static::END_DATE_FILTER);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $self-&gt;handleChangedParameters();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> valid(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;validateCurrentDate() === <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> key(): ?int</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;valid()</div>
<div class="line">            ? $this-&gt;key</div>
<div class="line">            : <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> current(): ?CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;valid()</div>
<div class="line">            ? $this-&gt;prepareForReturn($this-&gt;carbonCurrent)</div>
<div class="line">            : null;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#a1d205f624ba624539b6d0771578b1874">next</a>(): void</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;carbonCurrent === <span class="keyword">null</span>) {</div>
<div class="line">            $this-&gt;rewind();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;validationResult !== static::END_ITERATION) {</div>
<div class="line">            $this-&gt;key++;</div>
<div class="line"> </div>
<div class="line">            $this-&gt;incrementCurrentDateUntilValid();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> rewind(): void</div>
<div class="line">    {</div>
<div class="line">        $this-&gt;key = 0;</div>
<div class="line">        $this-&gt;carbonCurrent = ([$this-&gt;dateClass, <span class="stringliteral">&#39;make&#39;</span>])($this-&gt;startDate);</div>
<div class="line">        $settings = $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#ad732b45f6730ffd2bff7b8af19086306">getSettings</a>();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#af38adaaeafe6e6371d74c06cf2219298">hasLocalTranslator</a>()) {</div>
<div class="line">            $settings[<span class="stringliteral">&#39;locale&#39;</span>] = $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#aa9a6dba9725d7fff717ed0f1e74e2e35">getTranslatorLocale</a>();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $this-&gt;carbonCurrent-&gt;settings($settings);</div>
<div class="line">        $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#aa1a7f9ddd01b621b252b98a716661ad0">timezone</a> = static::intervalHasTime($this-&gt;dateInterval) ? $this-&gt;carbonCurrent-&gt;getTimezone() : <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;timezone) {</div>
<div class="line">            $this-&gt;carbonCurrent = $this-&gt;carbonCurrent-&gt;utc();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $this-&gt;validationResult = <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;isStartExcluded() || $this-&gt;validateCurrentDate() === <span class="keyword">false</span>) {</div>
<div class="line">            $this-&gt;incrementCurrentDateUntilValid();</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> skip(<span class="keywordtype">int</span> $count = 1): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">for</span> ($i = $count; $this-&gt;valid() &amp;&amp; $i &gt; 0; $i--) {</div>
<div class="line">            $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a1d205f624ba624539b6d0771578b1874">next</a>();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;valid();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> toIso8601String(): string</div>
<div class="line">    {</div>
<div class="line">        $parts = [];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;carbonRecurrences !== <span class="keyword">null</span>) {</div>
<div class="line">            $parts[] = <span class="charliteral">&#39;R&#39;</span>.$this-&gt;carbonRecurrences;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $parts[] = $this-&gt;startDate-&gt;toIso8601String();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;isDefaultInterval) {</div>
<div class="line">            $parts[] = $this-&gt;dateInterval-&gt;spec();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;endDate !== <span class="keyword">null</span>) {</div>
<div class="line">            $parts[] = $this-&gt;endDate-&gt;toIso8601String();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> implode(<span class="charliteral">&#39;/&#39;</span>, $parts);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> toString(): string</div>
<div class="line">    {</div>
<div class="line">        $format = $this-&gt;localToStringFormat</div>
<div class="line">            ?? $this-&gt;getFactory()-&gt;getSettings()[<span class="stringliteral">&#39;toStringFormat&#39;</span>]</div>
<div class="line">            ?? <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($format instanceof Closure) {</div>
<div class="line">            <span class="keywordflow">return</span> $format($this);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $translator = ([$this-&gt;dateClass, <span class="stringliteral">&#39;getTranslator&#39;</span>])();</div>
<div class="line"> </div>
<div class="line">        $parts = [];</div>
<div class="line"> </div>
<div class="line">        $format = $format ?? (</div>
<div class="line">            !$this-&gt;startDate-&gt;isStartOfDay() || ($this-&gt;endDate &amp;&amp; !$this-&gt;endDate-&gt;isStartOfDay())</div>
<div class="line">                ? <span class="stringliteral">&#39;Y-m-d H:i:s&#39;</span></div>
<div class="line">                : <span class="stringliteral">&#39;Y-m-d&#39;</span></div>
<div class="line">        );</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;carbonRecurrences !== <span class="keyword">null</span>) {</div>
<div class="line">            $parts[] = $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#adefd89ba8c8dbc7e2adc2b3ff4c067fa">translate</a>(<span class="stringliteral">&#39;period_recurrences&#39;</span>, [], $this-&gt;carbonRecurrences, $translator);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $parts[] = $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#adefd89ba8c8dbc7e2adc2b3ff4c067fa">translate</a>(<span class="stringliteral">&#39;period_interval&#39;</span>, [<span class="stringliteral">&#39;:interval&#39;</span> =&gt; $this-&gt;dateInterval-&gt;forHumans([</div>
<div class="line">            <span class="stringliteral">&#39;join&#39;</span> =&gt; <span class="keyword">true</span>,</div>
<div class="line">        ])], <span class="keyword">null</span>, $translator);</div>
<div class="line"> </div>
<div class="line">        $parts[] = $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#adefd89ba8c8dbc7e2adc2b3ff4c067fa">translate</a>(<span class="stringliteral">&#39;period_start_date&#39;</span>, [<span class="stringliteral">&#39;:date&#39;</span> =&gt; $this-&gt;startDate-&gt;rawFormat($format)], <span class="keyword">null</span>, $translator);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;endDate !== <span class="keyword">null</span>) {</div>
<div class="line">            $parts[] = $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#adefd89ba8c8dbc7e2adc2b3ff4c067fa">translate</a>(<span class="stringliteral">&#39;period_end_date&#39;</span>, [<span class="stringliteral">&#39;:date&#39;</span> =&gt; $this-&gt;endDate-&gt;rawFormat($format)], <span class="keyword">null</span>, $translator);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $result = implode(<span class="charliteral">&#39; &#39;</span>, $parts);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> mb_strtoupper(mb_substr($result, 0, 1)).mb_substr($result, 1);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> spec(): string</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;toIso8601String();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> cast(<span class="keywordtype">string</span> $className): object</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!method_exists($className, <span class="stringliteral">&#39;instance&#39;</span>)) {</div>
<div class="line">            <span class="keywordflow">if</span> (is_a($className, DatePeriod::class, <span class="keyword">true</span>)) {</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">new</span> $className(</div>
<div class="line">                    $this-&gt;rawDate($this-&gt;getStartDate()),</div>
<div class="line">                    $this-&gt;getDateInterval(),</div>
<div class="line">                    $this-&gt;getEndDate() ? $this-&gt;rawDate($this-&gt;getIncludedEndDate()) : $this-&gt;getRecurrences(),</div>
<div class="line">                    $this-&gt;isStartExcluded() ? DatePeriod::EXCLUDE_START_DATE : 0,</div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> InvalidCastException(<span class="stringliteral">&quot;$className has not the instance() method needed to cast the date.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $className::instance($this);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> toDatePeriod(): DatePeriod</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;cast(DatePeriod::class);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isUnfilteredAndEndLess(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">foreach</span> ($this-&gt;filters as $filter) {</div>
<div class="line">            <span class="keywordflow">switch</span> ($filter) {</div>
<div class="line">                <span class="keywordflow">case</span> [static::RECURRENCES_FILTER, <span class="keyword">null</span>]:</div>
<div class="line">                    <span class="keywordflow">if</span> ($this-&gt;carbonRecurrences !== <span class="keyword">null</span> &amp;&amp; is_finite($this-&gt;carbonRecurrences)) {</div>
<div class="line">                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">case</span> [static::END_DATE_FILTER, <span class="keyword">null</span>]:</div>
<div class="line">                    <span class="keywordflow">if</span> ($this-&gt;endDate !== <span class="keyword">null</span> &amp;&amp; !$this-&gt;endDate-&gt;isEndOfTime()) {</div>
<div class="line">                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">                    }</div>
<div class="line"> </div>
<div class="line">                    <span class="keywordflow">break</span>;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">default</span>:</div>
<div class="line">                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> toArray(): array</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;isUnfilteredAndEndLess()) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> EndLessPeriodException(<span class="stringliteral">&quot;Endless period can&#39;t be converted to array nor counted.&quot;</span>);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $state = [</div>
<div class="line">            $this-&gt;key,</div>
<div class="line">            $this-&gt;carbonCurrent ? $this-&gt;carbonCurrent-&gt;avoidMutation() : <span class="keyword">null</span>,</div>
<div class="line">            $this-&gt;validationResult,</div>
<div class="line">        ];</div>
<div class="line"> </div>
<div class="line">        $result = iterator_to_array($this);</div>
<div class="line"> </div>
<div class="line">        [$this-&gt;key, $this-&gt;carbonCurrent, $this-&gt;validationResult] = $state;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $result;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> count(): int</div>
<div class="line">    {</div>
<div class="line">        return \count($this-&gt;toArray());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> first(): ?CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;isUnfilteredAndEndLess()) {</div>
<div class="line">            <span class="keywordflow">foreach</span> ($this as $date) {</div>
<div class="line">                $this-&gt;rewind();</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $date;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> ($this-&gt;toArray() ?: [])[0] ?? <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> last(): ?CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        $array = $this-&gt;toArray();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $array ? $array[\count($array) - 1] : <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> __toString(): string</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;toString();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> __call(<span class="keywordtype">string</span> $method, array $parameters): mixed</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (static::hasMacro($method)) {</div>
<div class="line">            <span class="keywordflow">return</span> static::bindMacroContext($this, fn () =&gt; $this-&gt;callMacro($method, $parameters));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $roundedValue = $this-&gt;callRoundMethod($method, $parameters);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($roundedValue !== <span class="keyword">null</span>) {</div>
<div class="line">            <span class="keywordflow">return</span> $roundedValue;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $count = \count($parameters);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">switch</span> ($method) {</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;start&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;since&#39;</span>:</div>
<div class="line">                <span class="keywordflow">if</span> ($count === 0) {</div>
<div class="line">                    <span class="keywordflow">return</span> $this-&gt;getStartDate();</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                self::setDefaultParameters($parameters, [</div>
<div class="line">                    [0, <span class="stringliteral">&#39;date&#39;</span>, <span class="keyword">null</span>],</div>
<div class="line">                ]);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setStartDate(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;sinceNow&#39;</span>:</div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setStartDate(<span class="keyword">new</span> Carbon(), ...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;end&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;until&#39;</span>:</div>
<div class="line">                <span class="keywordflow">if</span> ($count === 0) {</div>
<div class="line">                    <span class="keywordflow">return</span> $this-&gt;getEndDate();</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                self::setDefaultParameters($parameters, [</div>
<div class="line">                    [0, <span class="stringliteral">&#39;date&#39;</span>, <span class="keyword">null</span>],</div>
<div class="line">                ]);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setEndDate(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;untilNow&#39;</span>:</div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setEndDate(<span class="keyword">new</span> Carbon(), ...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;dates&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;between&#39;</span>:</div>
<div class="line">                self::setDefaultParameters($parameters, [</div>
<div class="line">                    [0, <span class="stringliteral">&#39;start&#39;</span>, <span class="keyword">null</span>],</div>
<div class="line">                    [1, <span class="stringliteral">&#39;end&#39;</span>, <span class="keyword">null</span>],</div>
<div class="line">                ]);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setDates(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;recurrences&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;times&#39;</span>:</div>
<div class="line">                <span class="keywordflow">if</span> ($count === 0) {</div>
<div class="line">                    <span class="keywordflow">return</span> $this-&gt;getRecurrences();</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                self::setDefaultParameters($parameters, [</div>
<div class="line">                    [0, <span class="stringliteral">&#39;recurrences&#39;</span>, <span class="keyword">null</span>],</div>
<div class="line">                ]);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setRecurrences(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;options&#39;</span>:</div>
<div class="line">                <span class="keywordflow">if</span> ($count === 0) {</div>
<div class="line">                    <span class="keywordflow">return</span> $this-&gt;getOptions();</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                self::setDefaultParameters($parameters, [</div>
<div class="line">                    [0, <span class="stringliteral">&#39;options&#39;</span>, <span class="keyword">null</span>],</div>
<div class="line">                ]);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setOptions(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;toggle&#39;</span>:</div>
<div class="line">                self::setDefaultParameters($parameters, [</div>
<div class="line">                    [0, <span class="stringliteral">&#39;options&#39;</span>, <span class="keyword">null</span>],</div>
<div class="line">                ]);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;toggleOptions(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;filter&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;push&#39;</span>:</div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;addFilter(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;prepend&#39;</span>:</div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;prependFilter(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;filters&#39;</span>:</div>
<div class="line">                <span class="keywordflow">if</span> ($count === 0) {</div>
<div class="line">                    <span class="keywordflow">return</span> $this-&gt;getFilters();</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                self::setDefaultParameters($parameters, [</div>
<div class="line">                    [0, <span class="stringliteral">&#39;filters&#39;</span>, []],</div>
<div class="line">                ]);</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setFilters(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;interval&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;each&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;every&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;step&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;stepBy&#39;</span>:</div>
<div class="line">                <span class="keywordflow">if</span> ($count === 0) {</div>
<div class="line">                    <span class="keywordflow">return</span> $this-&gt;getDateInterval();</div>
<div class="line">                }</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setDateInterval(...$parameters);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;invert&#39;</span>:</div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;invertDateInterval();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;years&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;year&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;months&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;month&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;weeks&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;week&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;days&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;dayz&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;day&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;hours&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;hour&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;minutes&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;minute&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;seconds&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;second&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;milliseconds&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;millisecond&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;microseconds&#39;</span>:</div>
<div class="line">            <span class="keywordflow">case</span> <span class="stringliteral">&#39;microsecond&#39;</span>:</div>
<div class="line">                <span class="keywordflow">return</span> $this-&gt;setDateInterval((</div>
<div class="line">                    <span class="comment">// Override default P1D when instantiating via fluent setters.</span></div>
<div class="line">                    [$this-&gt;isDefaultInterval ? <span class="keyword">new</span> CarbonInterval(<span class="stringliteral">&#39;PT0S&#39;</span>) : $this-&gt;dateInterval, $method]</div>
<div class="line">                )(...$parameters));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $dateClass = $this-&gt;dateClass;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;localStrictModeEnabled ?? $dateClass::isStrictModeEnabled()) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnknownMethodException($method);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $this;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#ad021f23697a34a2339e8ba292315515e">setTimezone</a>(DateTimeZone|<span class="keywordtype">string</span>|<span class="keywordtype">int</span> $timezone): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;timezoneSetting = $timezone;</div>
<div class="line">        $self-&gt;timezone = CarbonTimeZone::instance($timezone);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;startDate) {</div>
<div class="line">            $self = $self-&gt;setStartDate($self-&gt;startDate-&gt;setTimezone($timezone));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;endDate) {</div>
<div class="line">            $self = $self-&gt;setEndDate($self-&gt;endDate-&gt;setTimezone($timezone));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#a146fff3f775e0c19deb590a692ba0c1b">shiftTimezone</a>(DateTimeZone|<span class="keywordtype">string</span>|<span class="keywordtype">int</span> $timezone): static</div>
<div class="line">    {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self-&gt;timezoneSetting = $timezone;</div>
<div class="line">        $self-&gt;timezone = CarbonTimeZone::instance($timezone);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;startDate) {</div>
<div class="line">            $self = $self-&gt;setStartDate($self-&gt;startDate-&gt;shiftTimezone($timezone));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($self-&gt;endDate) {</div>
<div class="line">            $self = $self-&gt;setEndDate($self-&gt;endDate-&gt;shiftTimezone($timezone));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> calculateEnd(?<span class="keywordtype">string</span> $rounding = <span class="keyword">null</span>): CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($end = $this-&gt;getEndDate($rounding)) {</div>
<div class="line">            <span class="keywordflow">return</span> $end;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;dateInterval-&gt;isEmpty()) {</div>
<div class="line">            <span class="keywordflow">return</span> $this-&gt;getStartDate($rounding);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $date = $this-&gt;getEndFromRecurrences() ?? $this-&gt;iterateUntilEnd();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($date &amp;&amp; $rounding) {</div>
<div class="line">            $date = $date-&gt;avoidMutation()-&gt;round($this-&gt;getDateInterval(), $rounding);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $date;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">function</span> getEndFromRecurrences(): ?CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;carbonRecurrences === <span class="keyword">null</span>) {</div>
<div class="line">            <span class="keywordflow">throw</span> <span class="keyword">new</span> UnreachableException(</div>
<div class="line">                <span class="stringliteral">&quot;Could not calculate period end without either explicit end or recurrences.\n&quot;</span>.</div>
<div class="line">                <span class="stringliteral">&quot;If you&#39;re looking for a forever-period, use -&gt;setRecurrences(INF).&quot;</span>,</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;carbonRecurrences === INF) {</div>
<div class="line">            $start = $this-&gt;getStartDate();</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">return</span> $start &lt; $start-&gt;avoidMutation()-&gt;add($this-&gt;getDateInterval())</div>
<div class="line">                ? CarbonImmutable::endOfTime()</div>
<div class="line">                : CarbonImmutable::startOfTime();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;filters === [[static::RECURRENCES_FILTER, <span class="keyword">null</span>]]) {</div>
<div class="line">            <span class="keywordflow">return</span> $this-&gt;getStartDate()-&gt;avoidMutation()-&gt;add(</div>
<div class="line">                $this-&gt;getDateInterval()-&gt;times(</div>
<div class="line">                    $this-&gt;carbonRecurrences - ($this-&gt;isStartExcluded() ? 0 : 1),</div>
<div class="line">                ),</div>
<div class="line">            );</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">function</span> iterateUntilEnd(): ?CarbonInterface</div>
<div class="line">    {</div>
<div class="line">        $attempts = 0;</div>
<div class="line">        $date = <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">foreach</span> ($this as $date) {</div>
<div class="line">            <span class="keywordflow">if</span> (++$attempts &gt; static::END_MAX_ATTEMPTS) {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> UnreachableException(</div>
<div class="line">                    <span class="stringliteral">&#39;Could not calculate period end after iterating &#39;</span>.static::END_MAX_ATTEMPTS.<span class="stringliteral">&#39; times.&#39;</span>,</div>
<div class="line">                );</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $date;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> overlaps(mixed $rangeOrRangeStart, mixed $rangeEnd = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        $range = $rangeEnd ? static::create($rangeOrRangeStart, $rangeEnd) : $rangeOrRangeStart;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!($range instanceof <span class="keyword">self</span>)) {</div>
<div class="line">            $range = static::create($range);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        [$start, $end] = $this-&gt;orderCouple($this-&gt;getStartDate(), $this-&gt;calculateEnd());</div>
<div class="line">        [$rangeStart, $rangeEnd] = $this-&gt;orderCouple($range-&gt;getStartDate(), $range-&gt;calculateEnd());</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $end &gt; $rangeStart &amp;&amp; $rangeEnd &gt; $start;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> forEach(callable $callback): void</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">foreach</span> ($this as $date) {</div>
<div class="line">            $callback($date);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> map(callable $callback): Generator</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">foreach</span> ($this as $date) {</div>
<div class="line">            yield $callback($date);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> eq(mixed $period): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;equalTo($period);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> equalTo(mixed $period): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!($period instanceof <span class="keyword">self</span>)) {</div>
<div class="line">            $period = self::make($period);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $end = $this-&gt;getEndDate();</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $period !== <span class="keyword">null</span></div>
<div class="line">            &amp;&amp; $this-&gt;getDateInterval()-&gt;eq($period-&gt;getDateInterval())</div>
<div class="line">            &amp;&amp; $this-&gt;getStartDate()-&gt;eq($period-&gt;getStartDate())</div>
<div class="line">            &amp;&amp; ($end ? $end-&gt;eq($period-&gt;getEndDate()) : $this-&gt;getRecurrences() === $period-&gt;getRecurrences())</div>
<div class="line">            &amp;&amp; ($this-&gt;getOptions() &amp; (~static::IMMUTABLE)) === ($period-&gt;getOptions() &amp; (~static::IMMUTABLE));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> ne(mixed $period): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;notEqualTo($period);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> notEqualTo(mixed $period): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> !$this-&gt;eq($period);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> startsBefore(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getStartDate()-&gt;lessThan($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> startsBeforeOrAt(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getStartDate()-&gt;lessThanOrEqualTo($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> startsAfter(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getStartDate()-&gt;greaterThan($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> startsAfterOrAt(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getStartDate()-&gt;greaterThanOrEqualTo($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> startsAt(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getStartDate()-&gt;equalTo($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> endsBefore(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;calculateEnd()-&gt;lessThan($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> endsBeforeOrAt(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;calculateEnd()-&gt;lessThanOrEqualTo($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> endsAfter(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;calculateEnd()-&gt;greaterThan($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> endsAfterOrAt(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;calculateEnd()-&gt;greaterThanOrEqualTo($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> endsAt(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;calculateEnd()-&gt;equalTo($this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isStarted(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;startsBeforeOrAt();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isEnded(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;endsBeforeOrAt();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isInProgress(): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;isStarted() &amp;&amp; !$this-&gt;isEnded();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> roundUnit(</div>
<div class="line">        <span class="keywordtype">string</span> $unit,</div>
<div class="line">        DateInterval|<span class="keywordtype">float</span>|<span class="keywordtype">int</span>|<span class="keywordtype">string</span>|<span class="keyword">null</span> $precision = 1,</div>
<div class="line">        callable|<span class="keywordtype">string</span> $function = <span class="stringliteral">&#39;round&#39;</span>,</div>
<div class="line">    ): static {</div>
<div class="line">        $self = $this-&gt;copyIfImmutable();</div>
<div class="line">        $self = $self-&gt;setStartDate($self-&gt;getStartDate()-&gt;roundUnit($unit, $precision, $function));</div>
<div class="line"> </div>
<div class="line">        if ($self-&gt;endDate) {</div>
<div class="line">            $self = $self-&gt;setEndDate($self-&gt;getEndDate()-&gt;roundUnit($unit, $precision, $function));</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $self-&gt;setDateInterval($self-&gt;getDateInterval()-&gt;roundUnit($unit, $precision, $function));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#a898b956b5a61adce47092f8ce119a91f">floorUnit</a>(<span class="keywordtype">string</span> $unit, DateInterval|<span class="keywordtype">float</span>|<span class="keywordtype">int</span>|<span class="keywordtype">string</span>|<span class="keyword">null</span> $precision = 1): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;roundUnit($unit, $precision, <span class="stringliteral">&#39;floor&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#a189e83aa81c73d6f83cf401e21d0e846">ceilUnit</a>(<span class="keywordtype">string</span> $unit, DateInterval|<span class="keywordtype">float</span>|<span class="keywordtype">int</span>|<span class="keywordtype">string</span>|<span class="keyword">null</span> $precision = 1): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;roundUnit($unit, $precision, <span class="stringliteral">&#39;ceil&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> round(</div>
<div class="line">        DateInterval|<span class="keywordtype">float</span>|<span class="keywordtype">int</span>|<span class="keywordtype">string</span>|<span class="keyword">null</span> $precision = <span class="keyword">null</span>,</div>
<div class="line">        callable|<span class="keywordtype">string</span> $function = <span class="stringliteral">&#39;round&#39;</span>,</div>
<div class="line">    ): static {</div>
<div class="line">        return $this-&gt;roundWith(</div>
<div class="line">            $precision ?? $this-&gt;getDateInterval()-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#a1e6e81c8950e3f7d59ba4acd3cfa2230">setLocalTranslator</a>(TranslatorImmutable::get(<span class="stringliteral">&#39;en&#39;</span>))-&gt;forHumans(),</div>
<div class="line">            $function</div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> floor(DateInterval|<span class="keywordtype">float</span>|<span class="keywordtype">int</span>|<span class="keywordtype">string</span>|<span class="keyword">null</span> $precision = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;round($precision, <span class="stringliteral">&#39;floor&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#a69bf94ce44c115f8afcaec61a6d1eb35">ceil</a>(DateInterval|<span class="keywordtype">float</span>|<span class="keywordtype">int</span>|<span class="keywordtype">string</span>|<span class="keyword">null</span> $precision = <span class="keyword">null</span>): static</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;round($precision, <span class="stringliteral">&#39;ceil&#39;</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> jsonSerialize(): array</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;toArray();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> contains(mixed $date = <span class="keyword">null</span>): bool</div>
<div class="line">    {</div>
<div class="line">        $startMethod = <span class="stringliteral">&#39;startsBefore&#39;</span>.($this-&gt;isStartIncluded() ? <span class="stringliteral">&#39;OrAt&#39;</span> : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line">        $endMethod = <span class="stringliteral">&#39;endsAfter&#39;</span>.($this-&gt;isEndIncluded() ? <span class="stringliteral">&#39;OrAt&#39;</span> : <span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;$startMethod($date) &amp;&amp; $this-&gt;$endMethod($date);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> follows(mixed $period, mixed ...$arguments): bool</div>
<div class="line">    {</div>
<div class="line">        $period = $this-&gt;resolveCarbonPeriod($period, ...$arguments);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getIncludedStartDate()-&gt;equalTo($period-&gt;getIncludedEndDate()-&gt;add($period-&gt;getDateInterval()));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isFollowedBy(mixed $period, mixed ...$arguments): bool</div>
<div class="line">    {</div>
<div class="line">        $period = $this-&gt;resolveCarbonPeriod($period, ...$arguments);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $period-&gt;follows($this);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> isConsecutiveWith(mixed $period, mixed ...$arguments): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;follows($period, ...$arguments) || $this-&gt;isFollowedBy($period, ...$arguments);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#a7edc6596cc4dc0eee6ec8d06afb54534">__debugInfo</a>(): array</div>
<div class="line">    {</div>
<div class="line">        $info = $this-&gt;baseDebugInfo();</div>
<div class="line">        unset($info[<span class="stringliteral">&#39;start&#39;</span>], $info[<span class="stringliteral">&#39;end&#39;</span>], $info[<span class="stringliteral">&#39;interval&#39;</span>], $info[<span class="stringliteral">&#39;include_start_date&#39;</span>], $info[<span class="stringliteral">&#39;include_end_date&#39;</span>]);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $info;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> updateInternalState(): void</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;hasFilter(static::END_DATE_FILTER)) {</div>
<div class="line">            $this-&gt;endDate = <span class="keyword">null</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;hasFilter(static::RECURRENCES_FILTER)) {</div>
<div class="line">            $this-&gt;carbonRecurrences = <span class="keyword">null</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> createFilterTuple(array $parameters): array</div>
<div class="line">    {</div>
<div class="line">        $method = array_shift($parameters);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;isCarbonPredicateMethod($method)) {</div>
<div class="line">            <span class="keywordflow">return</span> [$method, array_shift($parameters)];</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> [<span class="keyword">static</span> fn ($date) =&gt; ([$date, $method])(...$parameters), $method];</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> isCarbonPredicateMethod(callable|<span class="keywordtype">string</span> $callable): bool</div>
<div class="line">    {</div>
<div class="line">        return \is_string($callable) &amp;&amp; str_starts_with($callable, <span class="stringliteral">&#39;is&#39;</span>) &amp;&amp;</div>
<div class="line">            (method_exists($this-&gt;dateClass, $callable) || ([$this-&gt;dateClass, <span class="stringliteral">&#39;hasMacro&#39;</span>])($callable));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> filterRecurrences(CarbonInterface $current, <span class="keywordtype">int</span> $key): bool|callable</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($key &lt; $this-&gt;carbonRecurrences) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> static::END_ITERATION;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> filterEndDate(CarbonInterface $current): bool|callable</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (!$this-&gt;isEndExcluded() &amp;&amp; $current == $this-&gt;endDate) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;dateInterval-&gt;invert ? $current &gt; $this-&gt;endDate : $current &lt; $this-&gt;endDate) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> static::END_ITERATION;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> endIteration(): callable</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> static::END_ITERATION;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> handleChangedParameters(): void</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (($this-&gt;getOptions() &amp; static::IMMUTABLE) &amp;&amp; $this-&gt;dateClass === Carbon::class) {</div>
<div class="line">            $this-&gt;dateClass = CarbonImmutable::class;</div>
<div class="line">        } elseif (!($this-&gt;getOptions() &amp; static::IMMUTABLE) &amp;&amp; $this-&gt;dateClass === CarbonImmutable::class) {</div>
<div class="line">            $this-&gt;dateClass = Carbon::class;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $this-&gt;validationResult = <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> validateCurrentDate(): bool|callable</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;carbonCurrent === <span class="keyword">null</span>) {</div>
<div class="line">            $this-&gt;rewind();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Check after the first rewind to avoid repeating the initial validation.</span></div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;validationResult ?? ($this-&gt;validationResult = $this-&gt;checkFilters());</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> checkFilters(): bool|callable</div>
<div class="line">    {</div>
<div class="line">        $current = $this-&gt;prepareForReturn($this-&gt;carbonCurrent);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">foreach</span> ($this-&gt;filters as $tuple) {</div>
<div class="line">            $result = \call_user_func($tuple[0], $current-&gt;avoidMutation(), $this-&gt;key, $this);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> ($result === static::END_ITERATION) {</div>
<div class="line">                <span class="keywordflow">return</span> static::END_ITERATION;</div>
<div class="line">            }</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (!$result) {</div>
<div class="line">                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> prepareForReturn(CarbonInterface $date)</div>
<div class="line">    {</div>
<div class="line">        $date = ([$this-&gt;dateClass, <span class="stringliteral">&#39;make&#39;</span>])($date);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($this-&gt;timezone) {</div>
<div class="line">            <span class="keywordflow">return</span> $date-&gt;setTimezone($this-&gt;timezone);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $date;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> incrementCurrentDateUntilValid(): void</div>
<div class="line">    {</div>
<div class="line">        $attempts = 0;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">do</span> {</div>
<div class="line">            $this-&gt;carbonCurrent = $this-&gt;carbonCurrent-&gt;add($this-&gt;dateInterval);</div>
<div class="line"> </div>
<div class="line">            $this-&gt;validationResult = <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (++$attempts &gt; static::NEXT_MAX_ATTEMPTS) {</div>
<div class="line">                <span class="keywordflow">throw</span> <span class="keyword">new</span> UnreachableException(<span class="stringliteral">&#39;Could not find next valid date.&#39;</span>);</div>
<div class="line">            }</div>
<div class="line">        } <span class="keywordflow">while</span> ($this-&gt;validateCurrentDate() === <span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> callMacro(<span class="keywordtype">string</span> $name, array $parameters): mixed</div>
<div class="line">    {</div>
<div class="line">        $macro = static::$macros[$name];</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($macro instanceof Closure) {</div>
<div class="line">            $boundMacro = @$macro-&gt;bindTo($this, static::class) ?: @$macro-&gt;bindTo(<span class="keyword">null</span>, static::class);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">return</span> ($boundMacro ?: $macro)(...$parameters);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $macro(...$parameters);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> <a class="code hl_function" href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">resolveCarbon</a>($date = <span class="keyword">null</span>)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $this-&gt;getStartDate()-&gt;nowWithSameTz()-&gt;carbonize($date);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">function</span> resolveCarbonPeriod(mixed $period, mixed ...$arguments): self</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($period instanceof <span class="keyword">self</span>) {</div>
<div class="line">            <span class="keywordflow">return</span> $period;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $period instanceof DatePeriod</div>
<div class="line">            ? static::instance($period)</div>
<div class="line">            : static::create($period, ...$arguments);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">function</span> orderCouple($first, $second): array</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $first &gt; $second ? [$second, $first] : [$first, $second];</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">function</span> makeDateTime($value): ?DateTimeInterface</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($value instanceof DateTimeInterface) {</div>
<div class="line">            <span class="keywordflow">return</span> $value;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($value instanceof WeekDay || $value instanceof Month) {</div>
<div class="line">            $dateClass = $this-&gt;dateClass;</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">new</span> $dateClass($value, $this-&gt;timezoneSetting);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (\is_string($value)) {</div>
<div class="line">            $value = trim($value);</div>
<div class="line"> </div>
<div class="line">            <span class="keywordflow">if</span> (!preg_match(<span class="stringliteral">&#39;/^P[\dT]/&#39;</span>, $value) &amp;&amp;</div>
<div class="line">                !preg_match(<span class="stringliteral">&#39;/^R\d/&#39;</span>, $value) &amp;&amp;</div>
<div class="line">                preg_match(<span class="stringliteral">&#39;/[a-z\d]/i&#39;</span>, $value)</div>
<div class="line">            ) {</div>
<div class="line">                $dateClass = $this-&gt;dateClass;</div>
<div class="line"> </div>
<div class="line">                <span class="keywordflow">return</span> $dateClass::parse($value, $this-&gt;timezoneSetting);</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">function</span> isInfiniteDate($date): bool</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> $date instanceof CarbonInterface &amp;&amp; ($date-&gt;isEndOfTime() || $date-&gt;isStartOfTime());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">function</span> rawDate($date): ?DateTimeInterface</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> ($date === <span class="keyword">false</span> || $date === <span class="keyword">null</span>) {</div>
<div class="line">            <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> ($date instanceof CarbonInterface) {</div>
<div class="line">            <span class="keywordflow">return</span> $date-&gt;isMutable()</div>
<div class="line">                ? $date-&gt;toDateTime()</div>
<div class="line">                : $date-&gt;toDateTimeImmutable();</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (\in_array(\get_class($date), [DateTime::class, DateTimeImmutable::class], <span class="keyword">true</span>)) {</div>
<div class="line">            <span class="keywordflow">return</span> $date;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        $class = $date instanceof DateTime ? DateTime::class : DateTimeImmutable::class;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">new</span> $class($date-&gt;format(<span class="stringliteral">&#39;Y-m-d H:i:s.u&#39;</span>), $date-&gt;getTimezone());</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">function</span> setDefaultParameters(array &amp;$parameters, array $defaults): void</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">foreach</span> ($defaults as [$index, $name, $value]) {</div>
<div class="line">            <span class="keywordflow">if</span> (!\array_key_exists($index, $parameters) &amp;&amp; !\array_key_exists($name, $parameters)) {</div>
<div class="line">                $parameters[$index] = $value;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">function</span> setFromAssociativeArray(array $parameters): void</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">if</span> (isset($parameters[<span class="stringliteral">&#39;start&#39;</span>])) {</div>
<div class="line">            $this-&gt;setStartDate($parameters[<span class="stringliteral">&#39;start&#39;</span>]);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (isset($parameters[<span class="stringliteral">&#39;start&#39;</span>])) {</div>
<div class="line">            $this-&gt;setStartDate($parameters[<span class="stringliteral">&#39;start&#39;</span>]);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (isset($parameters[<span class="stringliteral">&#39;end&#39;</span>])) {</div>
<div class="line">            $this-&gt;setEndDate($parameters[<span class="stringliteral">&#39;end&#39;</span>]);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (isset($parameters[<span class="stringliteral">&#39;recurrences&#39;</span>])) {</div>
<div class="line">            $this-&gt;setRecurrences($parameters[<span class="stringliteral">&#39;recurrences&#39;</span>]);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (isset($parameters[<span class="stringliteral">&#39;interval&#39;</span>])) {</div>
<div class="line">            $this-&gt;setDateInterval($parameters[<span class="stringliteral">&#39;interval&#39;</span>]);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (isset($parameters[<span class="stringliteral">&#39;options&#39;</span>])) {</div>
<div class="line">            $this-&gt;setOptions($parameters[<span class="stringliteral">&#39;options&#39;</span>]);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span> <span class="keyword">function</span> configureTimezone(DateTimeZone $timezone, array $sortedArguments, array $originalArguments): array</div>
<div class="line">    {</div>
<div class="line">        $this-&gt;<a class="code hl_function" href="namespace_carbon_1_1_traits.html#ad021f23697a34a2339e8ba292315515e">setTimezone</a>($timezone);</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (\is_string($originalArguments[<span class="stringliteral">&#39;start&#39;</span>] ?? <span class="keyword">null</span>)) {</div>
<div class="line">            $sortedArguments[<span class="stringliteral">&#39;start&#39;</span>] = $this-&gt;makeDateTime($originalArguments[<span class="stringliteral">&#39;start&#39;</span>]);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (\is_string($originalArguments[<span class="stringliteral">&#39;end&#39;</span>] ?? <span class="keyword">null</span>)) {</div>
<div class="line">            $sortedArguments[<span class="stringliteral">&#39;end&#39;</span>] = $this-&gt;makeDateTime($originalArguments[<span class="stringliteral">&#39;end&#39;</span>]);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">return</span> $sortedArguments;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_end_less_period_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_end_less_period_exception.html">Carbon\Exceptions\EndLessPeriodException</a></div><div class="ttdef"><b>Definition</b> EndLessPeriodException.php:19</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_invalid_cast_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_invalid_cast_exception.html">Carbon\Exceptions\InvalidCastException</a></div><div class="ttdef"><b>Definition</b> InvalidCastException.php:19</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_invalid_interval_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_invalid_interval_exception.html">Carbon\Exceptions\InvalidIntervalException</a></div><div class="ttdef"><b>Definition</b> InvalidIntervalException.php:19</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_invalid_period_date_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_invalid_period_date_exception.html">Carbon\Exceptions\InvalidPeriodDateException</a></div><div class="ttdef"><b>Definition</b> InvalidPeriodDateException.php:19</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_invalid_period_parameter_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_invalid_period_parameter_exception.html">Carbon\Exceptions\InvalidPeriodParameterException</a></div><div class="ttdef"><b>Definition</b> InvalidPeriodParameterException.php:19</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_not_a_carbon_class_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_not_a_carbon_class_exception.html">Carbon\Exceptions\NotACarbonClassException</a></div><div class="ttdef"><b>Definition</b> NotACarbonClassException.php:21</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_not_a_period_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_not_a_period_exception.html">Carbon\Exceptions\NotAPeriodException</a></div><div class="ttdef"><b>Definition</b> NotAPeriodException.php:19</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_unknown_getter_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_unknown_getter_exception.html">Carbon\Exceptions\UnknownGetterException</a></div><div class="ttdef"><b>Definition</b> UnknownGetterException.php:20</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_unknown_method_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_unknown_method_exception.html">Carbon\Exceptions\UnknownMethodException</a></div><div class="ttdef"><b>Definition</b> UnknownMethodException.php:20</div></div>
<div class="ttc" id="aclass_carbon_1_1_exceptions_1_1_unreachable_exception_html"><div class="ttname"><a href="class_carbon_1_1_exceptions_1_1_unreachable_exception.html">Carbon\Exceptions\UnreachableException</a></div><div class="ttdef"><b>Definition</b> UnreachableException.php:19</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a146fff3f775e0c19deb590a692ba0c1b"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a146fff3f775e0c19deb590a692ba0c1b">Carbon\Traits\shiftTimezone</a></div><div class="ttdeci">shiftTimezone(DateTimeZone|string $value)</div><div class="ttdef"><b>Definition</b> Date.php:1860</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a189e83aa81c73d6f83cf401e21d0e846"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a189e83aa81c73d6f83cf401e21d0e846">Carbon\Traits\ceilUnit</a></div><div class="ttdeci">ceilUnit(string $unit, DateInterval|string|float|int $precision=1)</div><div class="ttdef"><b>Definition</b> Rounding.php:153</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a1d205f624ba624539b6d0771578b1874"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a1d205f624ba624539b6d0771578b1874">Carbon\Traits\next</a></div><div class="ttdeci">next($modifier=null)</div><div class="ttdef"><b>Definition</b> Modifiers.php:83</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a1e6e81c8950e3f7d59ba4acd3cfa2230"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a1e6e81c8950e3f7d59ba4acd3cfa2230">Carbon\Traits\setLocalTranslator</a></div><div class="ttdeci">setLocalTranslator(TranslatorInterface $translator)</div><div class="ttdef"><b>Definition</b> Localization.php:60</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a207b78e926a0ab853f96b34d9beb2981"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a207b78e926a0ab853f96b34d9beb2981">Carbon\Traits\Mixin</a></div><div class="ttdeci">trait Mixin</div><div class="ttdef"><b>Definition</b> Mixin.php:32</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a2e543950e788d607d61933ebad1a593f"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a2e543950e788d607d61933ebad1a593f">Carbon\Traits\resolveCarbon</a></div><div class="ttdeci">resolveCarbon(DateTimeInterface|string|null $date)</div><div class="ttdef"><b>Definition</b> Date.php:2604</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a69bf94ce44c115f8afcaec61a6d1eb35"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a69bf94ce44c115f8afcaec61a6d1eb35">Carbon\Traits\ceil</a></div><div class="ttdeci">ceil(DateInterval|string|float|int $precision=1)</div><div class="ttdef"><b>Definition</b> Rounding.php:177</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a6d476188a9de4ba1dcbc6cb2a9e8d2cf"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a6d476188a9de4ba1dcbc6cb2a9e8d2cf">Carbon\Traits\round</a></div><div class="ttdeci">round(DateInterval|string|float|int $precision=1, callable|string $function=&#39;round&#39;)</div><div class="ttdef"><b>Definition</b> Rounding.php:161</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a7edc6596cc4dc0eee6ec8d06afb54534"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a7edc6596cc4dc0eee6ec8d06afb54534">Carbon\Traits\__debugInfo</a></div><div class="ttdeci">__debugInfo()</div><div class="ttdef"><b>Definition</b> Options.php:174</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_a898b956b5a61adce47092f8ce119a91f"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#a898b956b5a61adce47092f8ce119a91f">Carbon\Traits\floorUnit</a></div><div class="ttdeci">floorUnit(string $unit, DateInterval|string|float|int $precision=1)</div><div class="ttdef"><b>Definition</b> Rounding.php:145</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_aa1a7f9ddd01b621b252b98a716661ad0"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#aa1a7f9ddd01b621b252b98a716661ad0">Carbon\Traits\timezone</a></div><div class="ttdeci">timezone(DateTimeZone|string|int $value)</div><div class="ttdef"><b>Definition</b> Date.php:1832</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_aa9a6dba9725d7fff717ed0f1e74e2e35"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#aa9a6dba9725d7fff717ed0f1e74e2e35">Carbon\Traits\getTranslatorLocale</a></div><div class="ttdeci">getTranslatorLocale($translator=null)</div><div class="ttdef"><b>Definition</b> Localization.php:607</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_ab9cb43f7b45f227d2426299bac08b6ef"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#ab9cb43f7b45f227d2426299bac08b6ef">Carbon\Traits\clone</a></div><div class="ttdeci">clone()</div><div class="ttdef"><b>Definition</b> Date.php:1008</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_abcabadb9d4fc0e4fa30f654d839b925e"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#abcabadb9d4fc0e4fa30f654d839b925e">Carbon\Traits\copy</a></div><div class="ttdeci">copy()</div><div class="ttdef"><b>Definition</b> Date.php:996</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_ad021f23697a34a2339e8ba292315515e"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#ad021f23697a34a2339e8ba292315515e">Carbon\Traits\setTimezone</a></div><div class="ttdeci">setTimezone(DateTimeZone|string|int $timeZone)</div><div class="ttdef"><b>Definition</b> Date.php:1852</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_ad2798ec13e7618cacb973ab9666e58ea"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#ad2798ec13e7618cacb973ab9666e58ea">Carbon\Traits\__isset</a></div><div class="ttdeci">__isset($name)</div><div class="ttdef"><b>Definition</b> Date.php:1359</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_ad732b45f6730ffd2bff7b8af19086306"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#ad732b45f6730ffd2bff7b8af19086306">Carbon\Traits\getSettings</a></div><div class="ttdeci">getSettings()</div><div class="ttdef"><b>Definition</b> Options.php:143</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_adefd89ba8c8dbc7e2adc2b3ff4c067fa"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#adefd89ba8c8dbc7e2adc2b3ff4c067fa">Carbon\Traits\translate</a></div><div class="ttdeci">translate(string $key, array $parameters=[], string|int|float|null $number=null, ?TranslatorInterface $translator=null, bool $altNumbers=false,)</div><div class="ttdef"><b>Definition</b> Localization.php:148</div></div>
<div class="ttc" id="anamespace_carbon_1_1_traits_html_af38adaaeafe6e6371d74c06cf2219298"><div class="ttname"><a href="namespace_carbon_1_1_traits.html#af38adaaeafe6e6371d74c06cf2219298">Carbon\Traits\hasLocalTranslator</a></div><div class="ttdeci">hasLocalTranslator()</div><div class="ttdef"><b>Definition</b> Localization.php:44</div></div>
<div class="ttc" id="anamespace_carbon_html"><div class="ttname"><a href="namespace_carbon.html">Carbon</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
