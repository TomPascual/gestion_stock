\doxysection{C\+:/\+Users/tomys/gestion\+\_\+stock/vendor/nesbot/carbon/src/\+Carbon/\+Carbon\+Period.\+php}
\hypertarget{_c_1_2_users_2tomys_2gestion_stock_2vendor_2nesbot_2carbon_2src_2_carbon_2_carbon_period_8php-example}{}\label{_c_1_2_users_2tomys_2gestion_stock_2vendor_2nesbot_2carbon_2src_2_carbon_2_carbon_period_8php-example}Register a custom macro.

Pass null macro to remove it.


\begin{DoxyCode}{0}
\DoxyCodeLine{CarbonPeriod::macro(\textcolor{stringliteral}{'middle'},\ \textcolor{keyword}{function}\ ()\ \{}
\DoxyCodeLine{\ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate()-\/>average(\$this-\/>getEndDate());}
\DoxyCodeLine{\});}
\DoxyCodeLine{echo\ CarbonPeriod::since(\textcolor{stringliteral}{'2011-\/05-\/12'})-\/>until(\textcolor{stringliteral}{'2011-\/06-\/03'})-\/>middle();}

\end{DoxyCode}



\begin{DoxyCodeInclude}{0}
\DoxyCodeLine{<?php}
\DoxyCodeLine{}
\DoxyCodeLine{declare(strict\_types=1);}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespace_carbon}{Carbon}};}
\DoxyCodeLine{}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_end_less_period_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)EndLessPeriodException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_invalid_cast_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)InvalidCastException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_invalid_interval_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)InvalidIntervalException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_invalid_period_date_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)InvalidPeriodDateException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_invalid_period_parameter_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)InvalidPeriodParameterException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_not_a_carbon_class_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)NotACarbonClassException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_not_a_period_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)NotAPeriodException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_unknown_getter_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)UnknownGetterException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_unknown_method_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)UnknownMethodException}};}
\DoxyCodeLine{use\ \mbox{\hyperlink{class_carbon_1_1_exceptions_1_1_unreachable_exception}{Carbon\(\backslash\)Exceptions\(\backslash\)UnreachableException}};}
\DoxyCodeLine{use\ Carbon\(\backslash\)Traits\(\backslash\)DeprecatedPeriodProperties;}
\DoxyCodeLine{use\ Carbon\(\backslash\)Traits\(\backslash\)IntervalRounding;}
\DoxyCodeLine{use\ Carbon\(\backslash\)Traits\(\backslash\)LocalFactory;}
\DoxyCodeLine{use\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a207b78e926a0ab853f96b34d9beb2981}{Carbon\(\backslash\)Traits\(\backslash\)Mixin}};}
\DoxyCodeLine{use\ Carbon\(\backslash\)Traits\(\backslash\)Options;}
\DoxyCodeLine{use\ Carbon\(\backslash\)Traits\(\backslash\)ToStringFormat;}
\DoxyCodeLine{use\ Closure;}
\DoxyCodeLine{use\ Countable;}
\DoxyCodeLine{use\ DateInterval;}
\DoxyCodeLine{use\ DatePeriod;}
\DoxyCodeLine{use\ DateTime;}
\DoxyCodeLine{use\ DateTimeImmutable;}
\DoxyCodeLine{use\ DateTimeInterface;}
\DoxyCodeLine{use\ DateTimeZone;}
\DoxyCodeLine{use\ Generator;}
\DoxyCodeLine{use\ InvalidArgumentException;}
\DoxyCodeLine{use\ JsonSerializable;}
\DoxyCodeLine{use\ ReflectionException;}
\DoxyCodeLine{use\ ReturnTypeWillChange;}
\DoxyCodeLine{use\ RuntimeException;}
\DoxyCodeLine{use\ Throwable;}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{//\ @codeCoverageIgnoreStart}}
\DoxyCodeLine{require\ PHP\_VERSION\ <\ 8.2}
\DoxyCodeLine{\ \ \ \ ?\ \_\_DIR\_\_.\textcolor{stringliteral}{'/../../lazy/Carbon/ProtectedDatePeriod.php'}}
\DoxyCodeLine{\ \ \ \ :\ \_\_DIR\_\_.\textcolor{stringliteral}{'/../../lazy/Carbon/UnprotectedDatePeriod.php'};}
\DoxyCodeLine{\textcolor{comment}{//\ @codeCoverageIgnoreEnd}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{class\ }CarbonPeriod\ \textcolor{keyword}{extends}\ DatePeriodBase\ implements\ Countable,\ JsonSerializable}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ use\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a4ccbac08961816aa93e62ad55966e530}{LocalFactory}};}
\DoxyCodeLine{\ \ \ \ use\ IntervalRounding;}
\DoxyCodeLine{\ \ \ \ use\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a207b78e926a0ab853f96b34d9beb2981}{Mixin}}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Mixin::mixin\ as\ baseMixin;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ use\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a83aca9fa78181a6c95c89b061372f9a0}{Options}}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Options::\_\_debugInfo\ as\ baseDebugInfo;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ use\ ToStringFormat;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{const}\ RECURRENCES\_FILTER\ =\ [self::class,\ \textcolor{stringliteral}{'filterRecurrences'}];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{const}\ END\_DATE\_FILTER\ =\ [self::class,\ \textcolor{stringliteral}{'filterEndDate'}];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{const}\ END\_ITERATION\ =\ [self::class,\ \textcolor{stringliteral}{'endIteration'}];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{const}\ EXCLUDE\_END\_DATE\ =\ 8;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{const}\ IMMUTABLE\ =\ 4;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{const}\ NEXT\_MAX\_ATTEMPTS\ =\ 1000;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{const}\ END\_MAX\_ATTEMPTS\ =\ 10000;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{const}\ DEFAULT\_DATE\_CLASS\ =\ Carbon::class;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{static}\ array\ \$macros\ =\ [];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keywordtype}{string}\ \$dateClass\ =\ Carbon::class;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ ?CarbonInterval\ \$dateInterval\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keywordtype}{bool}\ \$constructed\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keywordtype}{bool}\ \$isDefaultInterval\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ array\ \$filters\ =\ [];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ ?CarbonInterface\ \$startDate\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ ?CarbonInterface\ \$endDate\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keywordtype}{int}|\textcolor{keywordtype}{float}|\textcolor{keyword}{null}\ \$carbonRecurrences\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ ?\textcolor{keywordtype}{int}\ \$options\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keywordtype}{int}\ \$key\ =\ 0;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ ?CarbonInterface\ \$carbonCurrent\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ ?DateTimeZone\ \$timezone\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ array|\textcolor{keywordtype}{string}|\textcolor{keywordtype}{bool}|\textcolor{keyword}{null}\ \$validationResult\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ DateTimeZone|\textcolor{keywordtype}{string}|\textcolor{keywordtype}{int}|\textcolor{keyword}{null}\ \$timezoneSetting\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getIterator():\ Generator}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>rewind();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (\$this-\/>valid())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$key\ =\ \$this-\/>key();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$value\ =\ \$this-\/>current();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ yield\ \$key\ =>\ \$value;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a1d205f624ba624539b6d0771578b1874}{next}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ make(mixed\ \$var):\ ?static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::instance(\$var);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (NotAPeriodException)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::create(\$var);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ instance(mixed\ \$period):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$period\ instanceof\ \textcolor{keyword}{static})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$period-\/>copy();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$period\ instanceof\ \textcolor{keyword}{self})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \textcolor{keyword}{static}(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$period-\/>getStartDate(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$period-\/>getEndDate()\ ??\ \$period-\/>getRecurrences(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$period-\/>getDateInterval(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$period-\/>getOptions(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$period\ instanceof\ DatePeriod)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \textcolor{keyword}{static}(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$period-\/>start,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$period-\/>end\ ?:\ (\$period-\/>recurrences\ -\/\ 1),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$period-\/>interval,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$period-\/>include\_start\_date\ ?\ 0\ :\ static::EXCLUDE\_START\_DATE,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$class\ =\ static::class;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$type\ =\ \(\backslash\)gettype(\$period);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$chunks\ =\ explode(\textcolor{stringliteral}{'::'},\ \_\_METHOD\_\_);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ NotAPeriodException(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Argument\ 1\ passed\ to\ '}.\$class.\textcolor{stringliteral}{'::'}.end(\$chunks).\textcolor{stringliteral}{'()\ '}.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'must\ be\ an\ instance\ of\ DatePeriod\ or\ '}.\$class.\textcolor{stringliteral}{',\ '}.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (\$type\ ===\ \textcolor{stringliteral}{'object'}\ ?\ \textcolor{stringliteral}{'instance\ of\ '}.\(\backslash\)get\_class(\$period)\ :\ \$type).\textcolor{stringliteral}{'\ given.'},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ create(...\$params):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::createFromArray(\$params);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ createFromArray(array\ \$params):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \textcolor{keyword}{static}(...\$params);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ createFromIso(\textcolor{keywordtype}{string}\ \$iso,\ ?\textcolor{keywordtype}{int}\ \$options\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$params\ =\ static::parseIso8601(\$iso);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$instance\ =\ static::createFromArray(\$params);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$options\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$instance-\/>options\ =\ \$options;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$instance-\/>handleChangedParameters();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$instance;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ intervalHasTime(DateInterval\ \$interval):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$interval-\/>h\ ||\ \$interval-\/>i\ ||\ \$interval-\/>s\ ||\ \$interval-\/>f;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ isIso8601(mixed\ \$var):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\(\backslash\)is\_string(\$var))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Match\ slash\ but\ not\ within\ a\ timezone\ name.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$part\ =\ \textcolor{stringliteral}{'[a-\/z]+(?:[\_-\/][a-\/z]+)*'};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ preg\_match(\textcolor{stringliteral}{"{}\#\(\backslash\)b\$part/\$part\(\backslash\)b|(/)\#i"{}},\ \$var,\ \$match);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isset(\$match[1]);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ parseIso8601(\textcolor{keywordtype}{string}\ \$iso):\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$result\ =\ [];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$interval\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$start\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$end\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$dateClass\ =\ static::DEFAULT\_DATE\_CLASS;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (explode(\textcolor{charliteral}{'/'},\ \$iso)\ as\ \$key\ =>\ \$part)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$key\ ===\ 0\ \&\&\ preg\_match(\textcolor{stringliteral}{'/\string^R(\(\backslash\)d*|INF)\$/'},\ \$part,\ \$match))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$parsed\ =\ \(\backslash\)strlen(\$match[1])\ ?\ ((\$match[1]\ !==\ \textcolor{stringliteral}{'INF'})\ ?\ (int)\ \$match[1]\ :\ INF)\ :\ null;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (\$interval\ ===\ \textcolor{keyword}{null}\ \&\&\ \$parsed\ =\ self::makeInterval(\$part))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$interval\ =\ \$part;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (\$start\ ===\ \textcolor{keyword}{null}\ \&\&\ \$parsed\ =\ \$dateClass::make(\$part))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$start\ =\ \$part;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (\$end\ ===\ \textcolor{keyword}{null}\ \&\&\ \$parsed\ =\ \$dateClass::make(static::addMissingParts(\$start\ ??\ \textcolor{stringliteral}{''},\ \$part)))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$end\ =\ \$part;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidPeriodParameterException(\textcolor{stringliteral}{"{}Invalid\ ISO\ 8601\ specification:\ \$iso."{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$result[]\ =\ \$parsed;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$result;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ addMissingParts(\textcolor{keywordtype}{string}\ \$source,\ \textcolor{keywordtype}{string}\ \$target):\ string}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$pattern\ =\ \textcolor{charliteral}{'/'}.preg\_replace(\textcolor{stringliteral}{'/\(\backslash\)d+/'},\ \textcolor{stringliteral}{'[0-\/9]+'},\ preg\_quote(\$target,\ \textcolor{charliteral}{'/'})).\textcolor{stringliteral}{'\$/'};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$result\ =\ preg\_replace(\$pattern,\ \$target,\ \$source,\ 1,\ \$count);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$count\ ?\ \$result\ :\ \$target;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ makeInterval(mixed\ \$input):\ ?CarbonInterval}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CarbonInterval::make(\$input);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (Throwable)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ makeTimezone(mixed\ \$input):\ ?CarbonTimeZone}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\(\backslash\)is\_string(\$input))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ CarbonTimeZone::create(\$input);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (Throwable)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ macro(\textcolor{keywordtype}{string}\ \$name,\ ?callable\ \$macro):\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ static::\$macros[\$name]\ =\ \$macro;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ mixin(\textcolor{keywordtype}{object}|\textcolor{keywordtype}{string}\ \$mixin):\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ static::baseMixin(\$mixin);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ hasMacro(\textcolor{keywordtype}{string}\ \$name):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ isset(static::\$macros[\$name]);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ \_\_callStatic(\textcolor{keywordtype}{string}\ \$method,\ array\ \$parameters):\ mixed}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$date\ =\ \textcolor{keyword}{new}\ \textcolor{keyword}{static}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (static::hasMacro(\$method))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::bindMacroContext(\textcolor{keyword}{null},\ \textcolor{keyword}{static}\ fn\ ()\ =>\ \$date-\/>callMacro(\$method,\ \$parameters));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date-\/>\$method(...\$parameters);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \_\_construct(...\$arguments)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$raw\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$arguments[\textcolor{stringliteral}{'raw'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$raw\ =\ \$arguments[\textcolor{stringliteral}{'raw'}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>isDefaultInterval\ =\ \$arguments[\textcolor{stringliteral}{'isDefaultInterval'}]\ ??\ \textcolor{keyword}{false};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$arguments[\textcolor{stringliteral}{'dateClass'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>dateClass\ =\ \$arguments[\textcolor{stringliteral}{'dateClass'}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$arguments\ =\ \$raw;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Parse\ and\ assign\ arguments\ one\ by\ one.\ First\ argument\ may\ be\ an\ ISO\ 8601\ spec,}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ which\ will\ be\ first\ parsed\ into\ parts\ and\ then\ processed\ the\ same\ way.}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$argumentsCount\ =\ \(\backslash\)count(\$arguments);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$argumentsCount\ \&\&\ static::isIso8601(\$iso\ =\ \$arguments[0]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ array\_splice(\$arguments,\ 0,\ 1,\ static::parseIso8601(\$iso));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$argumentsCount\ ===\ 1)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$arguments[0]\ instanceof\ \textcolor{keyword}{self})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments\ =\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments[0]-\/>getStartDate(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments[0]-\/>getEndDate()\ ??\ \$arguments[0]-\/>getRecurrences(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments[0]-\/>getDateInterval(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments[0]-\/>getOptions(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (\$arguments[0]\ instanceof\ DatePeriod)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments\ =\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments[0]-\/>start,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments[0]-\/>end\ ?:\ (\$arguments[0]-\/>recurrences\ -\/\ 1),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments[0]-\/>interval,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$arguments[0]-\/>include\_start\_date\ ?\ 0\ :\ static::EXCLUDE\_START\_DATE,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_a(\$this-\/>dateClass,\ DateTimeImmutable::class,\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>options\ =\ static::IMMUTABLE;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$optionsSet\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$originalArguments\ =\ [];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$sortedArguments\ =\ [];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$arguments\ as\ \$argument)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$parsedDate\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$argument\ instanceof\ DateTimeZone)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments\ =\ \$this-\/>configureTimezone(\$argument,\ \$sortedArguments,\ \$originalArguments);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (!isset(\$sortedArguments[\textcolor{stringliteral}{'interval'}])\ \&\&}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\(\backslash\)is\_string(\$argument)\ \&\&\ preg\_match(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'/\string^(-\/?\(\backslash\)d(\(\backslash\)d(?![\(\backslash\)/-\/])|[\string^\(\backslash\)d\(\backslash\)/-\/]([\(\backslash\)/-\/])?)*|P[T\(\backslash\)d].*|(?:\(\backslash\)h*\(\backslash\)d+(?:\(\backslash\).\(\backslash\)d+)?\(\backslash\)h*[a-\/z]+)+)\$/i'},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$argument,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ))\ ||}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$argument\ instanceof\ DateInterval\ ||}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$argument\ instanceof\ Closure\ ||}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$argument\ instanceof\ Unit}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )\ \&\&}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$parsedInterval\ =\ self::makeInterval(\$argument)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'interval'}]\ =\ \$parsedInterval;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (!isset(\$sortedArguments[\textcolor{stringliteral}{'start'}])\ \&\&\ \$parsedDate\ =\ \$this-\/>makeDateTime(\$argument))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'start'}]\ =\ \$parsedDate;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$originalArguments[\textcolor{stringliteral}{'start'}]\ =\ \$argument;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (!isset(\$sortedArguments[\textcolor{stringliteral}{'end'}])\ \&\&\ (\$parsedDate\ =\ \$parsedDate\ ??\ \$this-\/>makeDateTime(\$argument)))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'end'}]\ =\ \$parsedDate;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$originalArguments[\textcolor{stringliteral}{'end'}]\ =\ \$argument;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (!isset(\$sortedArguments[\textcolor{stringliteral}{'recurrences'}])\ \&\&}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !isset(\$sortedArguments[\textcolor{stringliteral}{'end'}])\ \&\&}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\(\backslash\)is\_int(\$argument)\ ||\ \(\backslash\)is\_float(\$argument))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ \$argument\ >=\ 0}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'recurrences'}]\ =\ \$argument;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (!\$optionsSet\ \&\&\ (\(\backslash\)is\_int(\$argument)\ ||\ \$argument\ ===\ \textcolor{keyword}{null}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$optionsSet\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'options'}]\ =\ (((int)\ \$this-\/>options)\ |\ ((int)\ \$argument));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ elseif\ (\$parsedTimezone\ =\ self::makeTimezone(\$argument))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments\ =\ \$this-\/>configureTimezone(\$parsedTimezone,\ \$sortedArguments,\ \$originalArguments);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidPeriodParameterException(\textcolor{stringliteral}{'Invalid\ constructor\ parameters.'});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$raw\ ===\ \textcolor{keyword}{null}\ \&\&\ isset(\$sortedArguments[\textcolor{stringliteral}{'start'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$end\ =\ \$sortedArguments[\textcolor{stringliteral}{'end'}]\ ??\ max(1,\ \$sortedArguments[\textcolor{stringliteral}{'recurrences'}]\ ??\ 1);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\(\backslash\)is\_float(\$end))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$end\ =\ \$end\ ===\ INF\ ?\ PHP\_INT\_MAX\ :\ (int)\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a6d476188a9de4ba1dcbc6cb2a9e8d2cf}{round}}(\$end);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$raw\ =\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'start'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'interval'}]\ ??\ CarbonInterval::day(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$end,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>setFromAssociativeArray(\$sortedArguments);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>startDate\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$dateClass\ =\ \$this-\/>dateClass;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setStartDate(\$dateClass::now());}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>dateInterval\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setDateInterval(CarbonInterval::day());}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>isDefaultInterval\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>options\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setOptions(0);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ parent::\_\_construct(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>startDate,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>dateInterval,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>endDate\ ??\ \$this-\/>recurrences\ ??\ 1,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>options,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>constructed\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_abcabadb9d4fc0e4fa30f654d839b925e}{copy}}():\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_ab9cb43f7b45f227d2426299bac08b6ef}{clone}}\ \$this;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ copyIfImmutable():\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ getGetter(\textcolor{keywordtype}{string}\ \$name):\ ?callable}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ match\ (strtolower(preg\_replace(\textcolor{stringliteral}{'/[A-\/Z]/'},\ \textcolor{stringliteral}{'\_\$0'},\ \$name)))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'start'},\ \textcolor{stringliteral}{'start\_date'}\ =>\ [\$this,\ \textcolor{stringliteral}{'getStartDate'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'end'},\ \textcolor{stringliteral}{'end\_date'}\ =>\ [\$this,\ \textcolor{stringliteral}{'getEndDate'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'interval'},\ \textcolor{stringliteral}{'date\_interval'}\ =>\ [\$this,\ \textcolor{stringliteral}{'getDateInterval'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'recurrences'}\ =>\ [\$this,\ \textcolor{stringliteral}{'getRecurrences'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'include\_start\_date'}\ =>\ [\$this,\ \textcolor{stringliteral}{'isStartIncluded'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'include\_end\_date'}\ =>\ [\$this,\ \textcolor{stringliteral}{'isEndIncluded'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'current'}\ =>\ [\$this,\ \textcolor{stringliteral}{'current'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'locale'}\ =>\ [\$this,\ \textcolor{stringliteral}{'locale'}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'tzname'},\ \textcolor{stringliteral}{'tz\_name'}\ =>\ fn\ ()\ =>\ match\ (\textcolor{keyword}{true})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>timezoneSetting\ ===\ \textcolor{keyword}{null}\ =>\ \textcolor{keyword}{null},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)is\_string(\$this-\/>timezoneSetting)\ =>\ \$this-\/>timezoneSetting,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>timezoneSetting\ instanceof\ DateTimeZone\ =>\ \$this-\/>timezoneSetting-\/>getName(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}\ =>\ CarbonTimeZone::instance(\$this-\/>timezoneSetting)-\/>getName(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}\ =>\ \textcolor{keyword}{null},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \textcolor{keyword}{get}(\textcolor{keywordtype}{string}\ \$name)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$getter\ =\ \$this-\/>getGetter(\$name);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$getter)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$getter();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ UnknownGetterException(\$name);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \_\_get(\textcolor{keywordtype}{string}\ \$name)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>\textcolor{keyword}{get}(\$name);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_ad2798ec13e7618cacb973ab9666e58ea}{\_\_isset}}(\textcolor{keywordtype}{string}\ \$name):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getGetter(\$name)\ !==\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_ab9cb43f7b45f227d2426299bac08b6ef}{clone}}()}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_ab9cb43f7b45f227d2426299bac08b6ef}{clone}}\ \$this;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ setDateClass(\textcolor{keywordtype}{string}\ \$dateClass)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!is\_a(\$dateClass,\ CarbonInterface::class,\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ NotACarbonClassException(\$dateClass);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>dateClass\ =\ \$dateClass;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_a(\$dateClass,\ Carbon::class,\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self-\/>options\ =\ \$self-\/>options\ \&\ \string~static::IMMUTABLE;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}\ elseif\ (is\_a(\$dateClass,\ CarbonImmutable::class,\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self-\/>options\ =\ \$self-\/>options\ |\ static::IMMUTABLE;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getDateClass():\ string}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>dateClass;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ setDateInterval(mixed\ \$interval,\ Unit|\textcolor{keywordtype}{string}|\textcolor{keyword}{null}\ \$unit\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$interval\ instanceof\ Unit)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$interval\ =\ \$interval-\/>interval();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$unit\ instanceof\ Unit)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$unit\ =\ \$unit-\/>name;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$interval\ =\ CarbonInterval::make(\$interval,\ \$unit))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidIntervalException(\textcolor{stringliteral}{'Invalid\ interval.'});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$interval-\/>spec()\ ===\ \textcolor{stringliteral}{'PT0S'}\ \&\&\ !\$interval-\/>f\ \&\&\ !\$interval-\/>getStep())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidIntervalException(\textcolor{stringliteral}{'Empty\ interval\ is\ not\ accepted.'});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>dateInterval\ =\ \$interval;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>isDefaultInterval\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ resetDateInterval():\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>setDateInterval(CarbonInterval::day());}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>isDefaultInterval\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ invertDateInterval():\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setDateInterval(\$this-\/>dateInterval-\/>invert());}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ setDates(mixed\ \$start,\ mixed\ \$end):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setStartDate(\$start)-\/>setEndDate(\$end);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ setOptions(?\textcolor{keywordtype}{int}\ \$options):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>options\ =\ \$options\ ??\ 0;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getOptions():\ int}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>options\ ??\ 0;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ toggleOptions(\textcolor{keywordtype}{int}\ \$options,\ ?\textcolor{keywordtype}{bool}\ \$state\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$state\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$state\ =\ (\$this-\/>options\ \&\ \$options)\ !==\ \$options;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self-\/>setOptions(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$state\ ?}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>options\ |\ \$options\ :}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>options\ \&\ \string~\$options,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ excludeStartDate(\textcolor{keywordtype}{bool}\ \$state\ =\ \textcolor{keyword}{true}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>toggleOptions(static::EXCLUDE\_START\_DATE,\ \$state);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ excludeEndDate(\textcolor{keywordtype}{bool}\ \$state\ =\ \textcolor{keyword}{true}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>toggleOptions(static::EXCLUDE\_END\_DATE,\ \$state);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getDateInterval():\ CarbonInterval}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>dateInterval-\/>copy();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getStartDate(?\textcolor{keywordtype}{string}\ \$rounding\ =\ \textcolor{keyword}{null}):\ CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$date\ =\ \$this-\/>startDate-\/>avoidMutation();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$rounding\ ?\ \$date-\/>round(\$this-\/>getDateInterval(),\ \$rounding)\ :\ \$date;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getEndDate(?\textcolor{keywordtype}{string}\ \$rounding\ =\ \textcolor{keyword}{null}):\ ?CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>endDate)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$date\ =\ \$this-\/>endDate-\/>avoidMutation();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$rounding\ ?\ \$date-\/>round(\$this-\/>getDateInterval(),\ \$rounding)\ :\ \$date;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{preprocessor}{\ \ \ \ \#[ReturnTypeWillChange]}}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getRecurrences():\ int|float|null}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>carbonRecurrences;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isStartExcluded():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\$this-\/>options\ \&\ static::EXCLUDE\_START\_DATE)\ !==\ 0;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isEndExcluded():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\$this-\/>options\ \&\ static::EXCLUDE\_END\_DATE)\ !==\ 0;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isStartIncluded():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !\$this-\/>isStartExcluded();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isEndIncluded():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !\$this-\/>isEndExcluded();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getIncludedStartDate():\ CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$start\ =\ \$this-\/>getStartDate();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>isStartExcluded())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$start-\/>add(\$this-\/>getDateInterval());}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$start;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getIncludedEndDate():\ CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$end\ =\ \$this-\/>getEndDate();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$end)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>calculateEnd();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>isEndExcluded())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$end-\/>sub(\$this-\/>getDateInterval());}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$end;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ addFilter(callable|\textcolor{keywordtype}{string}\ \$callback,\ ?\textcolor{keywordtype}{string}\ \$name\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$tuple\ =\ \$self-\/>createFilterTuple(\(\backslash\)func\_get\_args());}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>filters[]\ =\ \$tuple;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ prependFilter(callable|\textcolor{keywordtype}{string}\ \$callback,\ ?\textcolor{keywordtype}{string}\ \$name\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$tuple\ =\ \$self-\/>createFilterTuple(\(\backslash\)func\_get\_args());}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ array\_unshift(\$self-\/>filters,\ \$tuple);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ removeFilter(callable|\textcolor{keywordtype}{string}\ \$filter):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$key\ =\ \(\backslash\)is\_callable(\$filter)\ ?\ 0\ :\ 1;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>filters\ =\ array\_values(array\_filter(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>filters,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static}\ fn\ (\$tuple)\ =>\ \$tuple[\$key]\ !==\ \$filter,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ));}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>updateInternalState();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ hasFilter(callable|\textcolor{keywordtype}{string}\ \$filter):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$key\ =\ \(\backslash\)is\_callable(\$filter)\ ?\ 0\ :\ 1;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$this-\/>filters\ as\ \$tuple)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$tuple[\$key]\ ===\ \$filter)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ getFilters():\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>filters;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ setFilters(array\ \$filters):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>filters\ =\ \$filters;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>updateInternalState();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ resetFilters():\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>filters\ =\ [];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$self-\/>endDate\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self-\/>filters[]\ =\ [static::END\_DATE\_FILTER,\ \textcolor{keyword}{null}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$self-\/>carbonRecurrences\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self-\/>filters[]\ =\ [static::RECURRENCES\_FILTER,\ \textcolor{keyword}{null}];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ setRecurrences(\textcolor{keywordtype}{int}|\textcolor{keywordtype}{float}|\textcolor{keyword}{null}\ \$recurrences):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$recurrences\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>removeFilter(static::RECURRENCES\_FILTER);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$recurrences\ <\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidPeriodParameterException(\textcolor{stringliteral}{'Invalid\ number\ of\ recurrences.'});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>carbonRecurrences\ =\ \$recurrences\ ===\ INF\ ?\ INF\ :\ (int)\ \$recurrences;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$self-\/>hasFilter(static::RECURRENCES\_FILTER))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self-\/>addFilter(static::RECURRENCES\_FILTER);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ setStartDate(mixed\ \$date,\ ?\textcolor{keywordtype}{bool}\ \$inclusive\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>isInfiniteDate(\$date)\ \&\&\ !(\$date\ =\ ([\$this-\/>dateClass,\ \textcolor{stringliteral}{'make'}])(\$date,\ \$this-\/>timezone)))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidPeriodDateException(\textcolor{stringliteral}{'Invalid\ start\ date.'});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>startDate\ =\ \$date;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$inclusive\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self\ =\ \$self-\/>toggleOptions(static::EXCLUDE\_START\_DATE,\ !\$inclusive);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ setEndDate(mixed\ \$date,\ ?\textcolor{keywordtype}{bool}\ \$inclusive\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$date\ !==\ \textcolor{keyword}{null}\ \&\&\ !\$this-\/>isInfiniteDate(\$date)\ \&\&\ !\$date\ =\ ([\$this-\/>dateClass,\ \textcolor{stringliteral}{'make'}])(\$date,\ \$this-\/>timezone))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidPeriodDateException(\textcolor{stringliteral}{'Invalid\ end\ date.'});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$date)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>removeFilter(static::END\_DATE\_FILTER);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>endDate\ =\ \$date;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$inclusive\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self\ =\ \$self-\/>toggleOptions(static::EXCLUDE\_END\_DATE,\ !\$inclusive);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$self-\/>hasFilter(static::END\_DATE\_FILTER))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self-\/>addFilter(static::END\_DATE\_FILTER);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>handleChangedParameters();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ valid():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>validateCurrentDate()\ ===\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ key():\ ?int}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>valid()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ?\ \$this-\/>key}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ :\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ current():\ ?CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>valid()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ?\ \$this-\/>prepareForReturn(\$this-\/>carbonCurrent)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ :\ null;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a1d205f624ba624539b6d0771578b1874}{next}}():\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>carbonCurrent\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>rewind();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>validationResult\ !==\ static::END\_ITERATION)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>key++;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>incrementCurrentDateUntilValid();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ rewind():\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>key\ =\ 0;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>carbonCurrent\ =\ ([\$this-\/>dateClass,\ \textcolor{stringliteral}{'make'}])(\$this-\/>startDate);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$settings\ =\ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_ad732b45f6730ffd2bff7b8af19086306}{getSettings}}();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_af38adaaeafe6e6371d74c06cf2219298}{hasLocalTranslator}}())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$settings[\textcolor{stringliteral}{'locale'}]\ =\ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_aa9a6dba9725d7fff717ed0f1e74e2e35}{getTranslatorLocale}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>carbonCurrent-\/>settings(\$settings);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_aa1a7f9ddd01b621b252b98a716661ad0}{timezone}}\ =\ static::intervalHasTime(\$this-\/>dateInterval)\ ?\ \$this-\/>carbonCurrent-\/>getTimezone()\ :\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>timezone)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>carbonCurrent\ =\ \$this-\/>carbonCurrent-\/>utc();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>validationResult\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>isStartExcluded()\ ||\ \$this-\/>validateCurrentDate()\ ===\ \textcolor{keyword}{false})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>incrementCurrentDateUntilValid();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ skip(\textcolor{keywordtype}{int}\ \$count\ =\ 1):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\$i\ =\ \$count;\ \$this-\/>valid()\ \&\&\ \$i\ >\ 0;\ \$i-\/-\/)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a1d205f624ba624539b6d0771578b1874}{next}}();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>valid();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ toIso8601String():\ string}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$parts\ =\ [];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>carbonRecurrences\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$parts[]\ =\ \textcolor{charliteral}{'R'}.\$this-\/>carbonRecurrences;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$parts[]\ =\ \$this-\/>startDate-\/>toIso8601String();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>isDefaultInterval)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$parts[]\ =\ \$this-\/>dateInterval-\/>spec();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>endDate\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$parts[]\ =\ \$this-\/>endDate-\/>toIso8601String();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ implode(\textcolor{charliteral}{'/'},\ \$parts);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ toString():\ string}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$format\ =\ \$this-\/>localToStringFormat}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ??\ \$this-\/>getFactory()-\/>getSettings()[\textcolor{stringliteral}{'toStringFormat'}]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ??\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$format\ instanceof\ Closure)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$format(\$this);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$translator\ =\ ([\$this-\/>dateClass,\ \textcolor{stringliteral}{'getTranslator'}])();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$parts\ =\ [];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$format\ =\ \$format\ ??\ (}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ !\$this-\/>startDate-\/>isStartOfDay()\ ||\ (\$this-\/>endDate\ \&\&\ !\$this-\/>endDate-\/>isStartOfDay())}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \textcolor{stringliteral}{'Y-\/m-\/d\ H:i:s'}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \textcolor{stringliteral}{'Y-\/m-\/d'}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>carbonRecurrences\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$parts[]\ =\ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_adefd89ba8c8dbc7e2adc2b3ff4c067fa}{translate}}(\textcolor{stringliteral}{'period\_recurrences'},\ [],\ \$this-\/>carbonRecurrences,\ \$translator);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$parts[]\ =\ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_adefd89ba8c8dbc7e2adc2b3ff4c067fa}{translate}}(\textcolor{stringliteral}{'period\_interval'},\ [\textcolor{stringliteral}{':interval'}\ =>\ \$this-\/>dateInterval-\/>forHumans([}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'join'}\ =>\ \textcolor{keyword}{true},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ])],\ \textcolor{keyword}{null},\ \$translator);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$parts[]\ =\ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_adefd89ba8c8dbc7e2adc2b3ff4c067fa}{translate}}(\textcolor{stringliteral}{'period\_start\_date'},\ [\textcolor{stringliteral}{':date'}\ =>\ \$this-\/>startDate-\/>rawFormat(\$format)],\ \textcolor{keyword}{null},\ \$translator);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>endDate\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$parts[]\ =\ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_adefd89ba8c8dbc7e2adc2b3ff4c067fa}{translate}}(\textcolor{stringliteral}{'period\_end\_date'},\ [\textcolor{stringliteral}{':date'}\ =>\ \$this-\/>endDate-\/>rawFormat(\$format)],\ \textcolor{keyword}{null},\ \$translator);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$result\ =\ implode(\textcolor{charliteral}{'\ '},\ \$parts);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ mb\_strtoupper(mb\_substr(\$result,\ 0,\ 1)).mb\_substr(\$result,\ 1);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ spec():\ string}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>toIso8601String();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ cast(\textcolor{keywordtype}{string}\ \$className):\ object}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!method\_exists(\$className,\ \textcolor{stringliteral}{'instance'}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_a(\$className,\ DatePeriod::class,\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \$className(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>rawDate(\$this-\/>getStartDate()),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>getDateInterval(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>getEndDate()\ ?\ \$this-\/>rawDate(\$this-\/>getIncludedEndDate())\ :\ \$this-\/>getRecurrences(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>isStartExcluded()\ ?\ DatePeriod::EXCLUDE\_START\_DATE\ :\ 0,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ InvalidCastException(\textcolor{stringliteral}{"{}\$className\ has\ not\ the\ instance()\ method\ needed\ to\ cast\ the\ date."{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$className::instance(\$this);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ toDatePeriod():\ DatePeriod}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>cast(DatePeriod::class);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isUnfilteredAndEndLess():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$this-\/>filters\ as\ \$filter)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\$filter)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ [static::RECURRENCES\_FILTER,\ \textcolor{keyword}{null}]:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>carbonRecurrences\ !==\ \textcolor{keyword}{null}\ \&\&\ is\_finite(\$this-\/>carbonRecurrences))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ [static::END\_DATE\_FILTER,\ \textcolor{keyword}{null}]:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>endDate\ !==\ \textcolor{keyword}{null}\ \&\&\ !\$this-\/>endDate-\/>isEndOfTime())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ toArray():\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>isUnfilteredAndEndLess())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ EndLessPeriodException(\textcolor{stringliteral}{"{}Endless\ period\ can't\ be\ converted\ to\ array\ nor\ counted."{}});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$state\ =\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>key,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>carbonCurrent\ ?\ \$this-\/>carbonCurrent-\/>avoidMutation()\ :\ \textcolor{keyword}{null},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>validationResult,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$result\ =\ iterator\_to\_array(\$this);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ [\$this-\/>key,\ \$this-\/>carbonCurrent,\ \$this-\/>validationResult]\ =\ \$state;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$result;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ count():\ int}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ return\ \(\backslash\)count(\$this-\/>toArray());}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ first():\ ?CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>isUnfilteredAndEndLess())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$this\ as\ \$date)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>rewind();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\$this-\/>toArray()\ ?:\ [])[0]\ ??\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ last():\ ?CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$array\ =\ \$this-\/>toArray();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$array\ ?\ \$array[\(\backslash\)count(\$array)\ -\/\ 1]\ :\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \_\_toString():\ string}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>toString();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \_\_call(\textcolor{keywordtype}{string}\ \$method,\ array\ \$parameters):\ mixed}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (static::hasMacro(\$method))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::bindMacroContext(\$this,\ fn\ ()\ =>\ \$this-\/>callMacro(\$method,\ \$parameters));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$roundedValue\ =\ \$this-\/>callRoundMethod(\$method,\ \$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$roundedValue\ !==\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$roundedValue;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$count\ =\ \(\backslash\)count(\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (\$method)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'start'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'since'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$count\ ===\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self::setDefaultParameters(\$parameters,\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ \textcolor{stringliteral}{'date'},\ \textcolor{keyword}{null}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setStartDate(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'sinceNow'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setStartDate(\textcolor{keyword}{new}\ Carbon(),\ ...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'end'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'until'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$count\ ===\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getEndDate();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self::setDefaultParameters(\$parameters,\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ \textcolor{stringliteral}{'date'},\ \textcolor{keyword}{null}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setEndDate(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'untilNow'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setEndDate(\textcolor{keyword}{new}\ Carbon(),\ ...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'dates'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'between'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self::setDefaultParameters(\$parameters,\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ \textcolor{stringliteral}{'start'},\ \textcolor{keyword}{null}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [1,\ \textcolor{stringliteral}{'end'},\ \textcolor{keyword}{null}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setDates(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'recurrences'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'times'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$count\ ===\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getRecurrences();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self::setDefaultParameters(\$parameters,\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ \textcolor{stringliteral}{'recurrences'},\ \textcolor{keyword}{null}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setRecurrences(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'options'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$count\ ===\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getOptions();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self::setDefaultParameters(\$parameters,\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ \textcolor{stringliteral}{'options'},\ \textcolor{keyword}{null}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setOptions(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'toggle'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self::setDefaultParameters(\$parameters,\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ \textcolor{stringliteral}{'options'},\ \textcolor{keyword}{null}],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>toggleOptions(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'filter'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'push'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>addFilter(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'prepend'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>prependFilter(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'filters'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$count\ ===\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getFilters();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self::setDefaultParameters(\$parameters,\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [0,\ \textcolor{stringliteral}{'filters'},\ []],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setFilters(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'interval'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'each'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'every'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'step'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'stepBy'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$count\ ===\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getDateInterval();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setDateInterval(...\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'invert'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>invertDateInterval();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'years'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'year'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'months'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'month'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'weeks'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'week'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'days'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'dayz'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'day'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'hours'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'hour'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'minutes'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'minute'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'seconds'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'second'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'milliseconds'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'millisecond'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'microseconds'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \textcolor{stringliteral}{'microsecond'}:}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>setDateInterval((}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Override\ default\ P1D\ when\ instantiating\ via\ fluent\ setters.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ [\$this-\/>isDefaultInterval\ ?\ \textcolor{keyword}{new}\ CarbonInterval(\textcolor{stringliteral}{'PT0S'})\ :\ \$this-\/>dateInterval,\ \$method]}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )(...\$parameters));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$dateClass\ =\ \$this-\/>dateClass;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>localStrictModeEnabled\ ??\ \$dateClass::isStrictModeEnabled())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ UnknownMethodException(\$method);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_ad021f23697a34a2339e8ba292315515e}{setTimezone}}(DateTimeZone|\textcolor{keywordtype}{string}|\textcolor{keywordtype}{int}\ \$timezone):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>timezoneSetting\ =\ \$timezone;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>timezone\ =\ CarbonTimeZone::instance(\$timezone);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$self-\/>startDate)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self\ =\ \$self-\/>setStartDate(\$self-\/>startDate-\/>setTimezone(\$timezone));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$self-\/>endDate)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self\ =\ \$self-\/>setEndDate(\$self-\/>endDate-\/>setTimezone(\$timezone));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a146fff3f775e0c19deb590a692ba0c1b}{shiftTimezone}}(DateTimeZone|\textcolor{keywordtype}{string}|\textcolor{keywordtype}{int}\ \$timezone):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>timezoneSetting\ =\ \$timezone;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self-\/>timezone\ =\ CarbonTimeZone::instance(\$timezone);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$self-\/>startDate)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self\ =\ \$self-\/>setStartDate(\$self-\/>startDate-\/>shiftTimezone(\$timezone));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$self-\/>endDate)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self\ =\ \$self-\/>setEndDate(\$self-\/>endDate-\/>shiftTimezone(\$timezone));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ calculateEnd(?\textcolor{keywordtype}{string}\ \$rounding\ =\ \textcolor{keyword}{null}):\ CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$end\ =\ \$this-\/>getEndDate(\$rounding))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$end;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>dateInterval-\/>isEmpty())\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate(\$rounding);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$date\ =\ \$this-\/>getEndFromRecurrences()\ ??\ \$this-\/>iterateUntilEnd();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$date\ \&\&\ \$rounding)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$date\ =\ \$date-\/>avoidMutation()-\/>round(\$this-\/>getDateInterval(),\ \$rounding);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ getEndFromRecurrences():\ ?CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>carbonRecurrences\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ UnreachableException(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Could\ not\ calculate\ period\ end\ without\ either\ explicit\ end\ or\ recurrences.\(\backslash\)n"{}}.}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}If\ you're\ looking\ for\ a\ forever-\/period,\ use\ -\/>setRecurrences(INF)."{}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>carbonRecurrences\ ===\ INF)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$start\ =\ \$this-\/>getStartDate();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$start\ <\ \$start-\/>avoidMutation()-\/>add(\$this-\/>getDateInterval())}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ CarbonImmutable::endOfTime()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ CarbonImmutable::startOfTime();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>filters\ ===\ [[static::RECURRENCES\_FILTER,\ \textcolor{keyword}{null}]])\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate()-\/>avoidMutation()-\/>add(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>getDateInterval()-\/>times(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>carbonRecurrences\ -\/\ (\$this-\/>isStartExcluded()\ ?\ 0\ :\ 1),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ iterateUntilEnd():\ ?CarbonInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$attempts\ =\ 0;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$date\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$this\ as\ \$date)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (++\$attempts\ >\ static::END\_MAX\_ATTEMPTS)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ UnreachableException(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Could\ not\ calculate\ period\ end\ after\ iterating\ '}.static::END\_MAX\_ATTEMPTS.\textcolor{stringliteral}{'\ times.'},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ overlaps(mixed\ \$rangeOrRangeStart,\ mixed\ \$rangeEnd\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$range\ =\ \$rangeEnd\ ?\ static::create(\$rangeOrRangeStart,\ \$rangeEnd)\ :\ \$rangeOrRangeStart;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(\$range\ instanceof\ \textcolor{keyword}{self}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$range\ =\ static::create(\$range);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ [\$start,\ \$end]\ =\ \$this-\/>orderCouple(\$this-\/>getStartDate(),\ \$this-\/>calculateEnd());}
\DoxyCodeLine{\ \ \ \ \ \ \ \ [\$rangeStart,\ \$rangeEnd]\ =\ \$this-\/>orderCouple(\$range-\/>getStartDate(),\ \$range-\/>calculateEnd());}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$end\ >\ \$rangeStart\ \&\&\ \$rangeEnd\ >\ \$start;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ forEach(callable\ \$callback):\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$this\ as\ \$date)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$callback(\$date);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ map(callable\ \$callback):\ Generator}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$this\ as\ \$date)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ yield\ \$callback(\$date);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ eq(mixed\ \$period):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>equalTo(\$period);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ equalTo(mixed\ \$period):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(\$period\ instanceof\ \textcolor{keyword}{self}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$period\ =\ self::make(\$period);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$end\ =\ \$this-\/>getEndDate();}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$period\ !==\ \textcolor{keyword}{null}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \&\&\ \$this-\/>getDateInterval()-\/>eq(\$period-\/>getDateInterval())}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \&\&\ \$this-\/>getStartDate()-\/>eq(\$period-\/>getStartDate())}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \&\&\ (\$end\ ?\ \$end-\/>eq(\$period-\/>getEndDate())\ :\ \$this-\/>getRecurrences()\ ===\ \$period-\/>getRecurrences())}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \&\&\ (\$this-\/>getOptions()\ \&\ (\string~static::IMMUTABLE))\ ===\ (\$period-\/>getOptions()\ \&\ (\string~static::IMMUTABLE));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ ne(mixed\ \$period):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>notEqualTo(\$period);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ notEqualTo(mixed\ \$period):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ !\$this-\/>eq(\$period);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ startsBefore(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate()-\/>lessThan(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ startsBeforeOrAt(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate()-\/>lessThanOrEqualTo(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ startsAfter(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate()-\/>greaterThan(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ startsAfterOrAt(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate()-\/>greaterThanOrEqualTo(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ startsAt(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate()-\/>equalTo(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ endsBefore(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>calculateEnd()-\/>lessThan(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ endsBeforeOrAt(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>calculateEnd()-\/>lessThanOrEqualTo(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ endsAfter(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>calculateEnd()-\/>greaterThan(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ endsAfterOrAt(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>calculateEnd()-\/>greaterThanOrEqualTo(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ endsAt(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>calculateEnd()-\/>equalTo(\$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isStarted():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>startsBeforeOrAt();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isEnded():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>endsBeforeOrAt();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isInProgress():\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>isStarted()\ \&\&\ !\$this-\/>isEnded();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ roundUnit(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordtype}{string}\ \$unit,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ DateInterval|\textcolor{keywordtype}{float}|\textcolor{keywordtype}{int}|\textcolor{keywordtype}{string}|\textcolor{keyword}{null}\ \$precision\ =\ 1,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ callable|\textcolor{keywordtype}{string}\ \$function\ =\ \textcolor{stringliteral}{'round'},}
\DoxyCodeLine{\ \ \ \ ):\ static\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$this-\/>copyIfImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$self\ =\ \$self-\/>setStartDate(\$self-\/>getStartDate()-\/>roundUnit(\$unit,\ \$precision,\ \$function));}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (\$self-\/>endDate)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$self\ =\ \$self-\/>setEndDate(\$self-\/>getEndDate()-\/>roundUnit(\$unit,\ \$precision,\ \$function));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$self-\/>setDateInterval(\$self-\/>getDateInterval()-\/>roundUnit(\$unit,\ \$precision,\ \$function));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a898b956b5a61adce47092f8ce119a91f}{floorUnit}}(\textcolor{keywordtype}{string}\ \$unit,\ DateInterval|\textcolor{keywordtype}{float}|\textcolor{keywordtype}{int}|\textcolor{keywordtype}{string}|\textcolor{keyword}{null}\ \$precision\ =\ 1):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>roundUnit(\$unit,\ \$precision,\ \textcolor{stringliteral}{'floor'});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a189e83aa81c73d6f83cf401e21d0e846}{ceilUnit}}(\textcolor{keywordtype}{string}\ \$unit,\ DateInterval|\textcolor{keywordtype}{float}|\textcolor{keywordtype}{int}|\textcolor{keywordtype}{string}|\textcolor{keyword}{null}\ \$precision\ =\ 1):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>roundUnit(\$unit,\ \$precision,\ \textcolor{stringliteral}{'ceil'});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ round(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ DateInterval|\textcolor{keywordtype}{float}|\textcolor{keywordtype}{int}|\textcolor{keywordtype}{string}|\textcolor{keyword}{null}\ \$precision\ =\ \textcolor{keyword}{null},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ callable|\textcolor{keywordtype}{string}\ \$function\ =\ \textcolor{stringliteral}{'round'},}
\DoxyCodeLine{\ \ \ \ ):\ static\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ return\ \$this-\/>roundWith(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$precision\ ??\ \$this-\/>getDateInterval()-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_a1e6e81c8950e3f7d59ba4acd3cfa2230}{setLocalTranslator}}(TranslatorImmutable::get(\textcolor{stringliteral}{'en'}))-\/>forHumans(),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$function}
\DoxyCodeLine{\ \ \ \ \ \ \ \ );}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ floor(DateInterval|\textcolor{keywordtype}{float}|\textcolor{keywordtype}{int}|\textcolor{keywordtype}{string}|\textcolor{keyword}{null}\ \$precision\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>round(\$precision,\ \textcolor{stringliteral}{'floor'});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a69bf94ce44c115f8afcaec61a6d1eb35}{ceil}}(DateInterval|\textcolor{keywordtype}{float}|\textcolor{keywordtype}{int}|\textcolor{keywordtype}{string}|\textcolor{keyword}{null}\ \$precision\ =\ \textcolor{keyword}{null}):\ static}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>round(\$precision,\ \textcolor{stringliteral}{'ceil'});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ jsonSerialize():\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>toArray();}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ contains(mixed\ \$date\ =\ \textcolor{keyword}{null}):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$startMethod\ =\ \textcolor{stringliteral}{'startsBefore'}.(\$this-\/>isStartIncluded()\ ?\ \textcolor{stringliteral}{'OrAt'}\ :\ \textcolor{stringliteral}{''});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$endMethod\ =\ \textcolor{stringliteral}{'endsAfter'}.(\$this-\/>isEndIncluded()\ ?\ \textcolor{stringliteral}{'OrAt'}\ :\ \textcolor{stringliteral}{''});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>\$startMethod(\$date)\ \&\&\ \$this-\/>\$endMethod(\$date);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ follows(mixed\ \$period,\ mixed\ ...\$arguments):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$period\ =\ \$this-\/>resolveCarbonPeriod(\$period,\ ...\$arguments);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getIncludedStartDate()-\/>equalTo(\$period-\/>getIncludedEndDate()-\/>add(\$period-\/>getDateInterval()));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isFollowedBy(mixed\ \$period,\ mixed\ ...\$arguments):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$period\ =\ \$this-\/>resolveCarbonPeriod(\$period,\ ...\$arguments);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$period-\/>follows(\$this);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ isConsecutiveWith(mixed\ \$period,\ mixed\ ...\$arguments):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>follows(\$period,\ ...\$arguments)\ ||\ \$this-\/>isFollowedBy(\$period,\ ...\$arguments);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{public}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a7edc6596cc4dc0eee6ec8d06afb54534}{\_\_debugInfo}}():\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$info\ =\ \$this-\/>baseDebugInfo();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ unset(\$info[\textcolor{stringliteral}{'start'}],\ \$info[\textcolor{stringliteral}{'end'}],\ \$info[\textcolor{stringliteral}{'interval'}],\ \$info[\textcolor{stringliteral}{'include\_start\_date'}],\ \$info[\textcolor{stringliteral}{'include\_end\_date'}]);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$info;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ updateInternalState():\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>hasFilter(static::END\_DATE\_FILTER))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>endDate\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>hasFilter(static::RECURRENCES\_FILTER))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>carbonRecurrences\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ createFilterTuple(array\ \$parameters):\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$method\ =\ array\_shift(\$parameters);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>isCarbonPredicateMethod(\$method))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [\$method,\ array\_shift(\$parameters)];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [\textcolor{keyword}{static}\ fn\ (\$date)\ =>\ ([\$date,\ \$method])(...\$parameters),\ \$method];}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ isCarbonPredicateMethod(callable|\textcolor{keywordtype}{string}\ \$callable):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ return\ \(\backslash\)is\_string(\$callable)\ \&\&\ str\_starts\_with(\$callable,\ \textcolor{stringliteral}{'is'})\ \&\&}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ (method\_exists(\$this-\/>dateClass,\ \$callable)\ ||\ ([\$this-\/>dateClass,\ \textcolor{stringliteral}{'hasMacro'}])(\$callable));}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ filterRecurrences(CarbonInterface\ \$current,\ \textcolor{keywordtype}{int}\ \$key):\ bool|callable}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$key\ <\ \$this-\/>carbonRecurrences)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::END\_ITERATION;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ filterEndDate(CarbonInterface\ \$current):\ bool|callable}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$this-\/>isEndExcluded()\ \&\&\ \$current\ ==\ \$this-\/>endDate)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>dateInterval-\/>invert\ ?\ \$current\ >\ \$this-\/>endDate\ :\ \$current\ <\ \$this-\/>endDate)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::END\_ITERATION;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ endIteration():\ callable}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::END\_ITERATION;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ handleChangedParameters():\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ ((\$this-\/>getOptions()\ \&\ static::IMMUTABLE)\ \&\&\ \$this-\/>dateClass\ ===\ Carbon::class)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>dateClass\ =\ CarbonImmutable::class;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}\ elseif\ (!(\$this-\/>getOptions()\ \&\ static::IMMUTABLE)\ \&\&\ \$this-\/>dateClass\ ===\ CarbonImmutable::class)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>dateClass\ =\ Carbon::class;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>validationResult\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ validateCurrentDate():\ bool|callable}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>carbonCurrent\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>rewind();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Check\ after\ the\ first\ rewind\ to\ avoid\ repeating\ the\ initial\ validation.}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>validationResult\ ??\ (\$this-\/>validationResult\ =\ \$this-\/>checkFilters());}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ checkFilters():\ bool|callable}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$current\ =\ \$this-\/>prepareForReturn(\$this-\/>carbonCurrent);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$this-\/>filters\ as\ \$tuple)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$result\ =\ \(\backslash\)call\_user\_func(\$tuple[0],\ \$current-\/>avoidMutation(),\ \$this-\/>key,\ \$this);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$result\ ===\ static::END\_ITERATION)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ static::END\_ITERATION;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\$result)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ prepareForReturn(CarbonInterface\ \$date)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$date\ =\ ([\$this-\/>dateClass,\ \textcolor{stringliteral}{'make'}])(\$date);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$this-\/>timezone)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date-\/>setTimezone(\$this-\/>timezone);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ incrementCurrentDateUntilValid():\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$attempts\ =\ 0;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>carbonCurrent\ =\ \$this-\/>carbonCurrent-\/>add(\$this-\/>dateInterval);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>validationResult\ =\ \textcolor{keyword}{null};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (++\$attempts\ >\ static::NEXT\_MAX\_ATTEMPTS)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ UnreachableException(\textcolor{stringliteral}{'Could\ not\ find\ next\ valid\ date.'});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{while}\ (\$this-\/>validateCurrentDate()\ ===\ \textcolor{keyword}{false});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ callMacro(\textcolor{keywordtype}{string}\ \$name,\ array\ \$parameters):\ mixed}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$macro\ =\ static::\$macros[\$name];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$macro\ instanceof\ Closure)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$boundMacro\ =\ @\$macro-\/>bindTo(\$this,\ static::class)\ ?:\ @\$macro-\/>bindTo(\textcolor{keyword}{null},\ static::class);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\$boundMacro\ ?:\ \$macro)(...\$parameters);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$macro(...\$parameters);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ \mbox{\hyperlink{namespace_carbon_1_1_traits_a2e543950e788d607d61933ebad1a593f}{resolveCarbon}}(\$date\ =\ \textcolor{keyword}{null})}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$this-\/>getStartDate()-\/>nowWithSameTz()-\/>carbonize(\$date);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{protected}\ \textcolor{keyword}{function}\ resolveCarbonPeriod(mixed\ \$period,\ mixed\ ...\$arguments):\ self}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$period\ instanceof\ \textcolor{keyword}{self})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$period;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$period\ instanceof\ DatePeriod}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ?\ static::instance(\$period)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ :\ static::create(\$period,\ ...\$arguments);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ orderCouple(\$first,\ \$second):\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$first\ >\ \$second\ ?\ [\$second,\ \$first]\ :\ [\$first,\ \$second];}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ makeDateTime(\$value):\ ?DateTimeInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$value\ instanceof\ DateTimeInterface)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$value;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$value\ instanceof\ WeekDay\ ||\ \$value\ instanceof\ Month)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$dateClass\ =\ \$this-\/>dateClass;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \$dateClass(\$value,\ \$this-\/>timezoneSetting);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\(\backslash\)is\_string(\$value))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$value\ =\ trim(\$value);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!preg\_match(\textcolor{stringliteral}{'/\string^P[\(\backslash\)dT]/'},\ \$value)\ \&\&}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ !preg\_match(\textcolor{stringliteral}{'/\string^R\(\backslash\)d/'},\ \$value)\ \&\&}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ preg\_match(\textcolor{stringliteral}{'/[a-\/z\(\backslash\)d]/i'},\ \$value)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$dateClass\ =\ \$this-\/>dateClass;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$dateClass::parse(\$value,\ \$this-\/>timezoneSetting);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ isInfiniteDate(\$date):\ bool}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date\ instanceof\ CarbonInterface\ \&\&\ (\$date-\/>isEndOfTime()\ ||\ \$date-\/>isStartOfTime());}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ rawDate(\$date):\ ?DateTimeInterface}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$date\ ===\ \textcolor{keyword}{false}\ ||\ \$date\ ===\ \textcolor{keyword}{null})\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{null};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\$date\ instanceof\ CarbonInterface)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date-\/>isMutable()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \$date-\/>toDateTime()}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \$date-\/>toDateTimeImmutable();}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\(\backslash\)in\_array(\(\backslash\)get\_class(\$date),\ [DateTime::class,\ DateTimeImmutable::class],\ \textcolor{keyword}{true}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$date;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$class\ =\ \$date\ instanceof\ DateTime\ ?\ DateTime::class\ :\ DateTimeImmutable::class;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{new}\ \$class(\$date-\/>format(\textcolor{stringliteral}{'Y-\/m-\/d\ H:i:s.u'}),\ \$date-\/>getTimezone());}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{static}\ \textcolor{keyword}{function}\ setDefaultParameters(array\ \&\$parameters,\ array\ \$defaults):\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{foreach}\ (\$defaults\ as\ [\$index,\ \$name,\ \$value])\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\(\backslash\)array\_key\_exists(\$index,\ \$parameters)\ \&\&\ !\(\backslash\)array\_key\_exists(\$name,\ \$parameters))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \$parameters[\$index]\ =\ \$value;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ setFromAssociativeArray(array\ \$parameters):\ void}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$parameters[\textcolor{stringliteral}{'start'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setStartDate(\$parameters[\textcolor{stringliteral}{'start'}]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$parameters[\textcolor{stringliteral}{'start'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setStartDate(\$parameters[\textcolor{stringliteral}{'start'}]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$parameters[\textcolor{stringliteral}{'end'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setEndDate(\$parameters[\textcolor{stringliteral}{'end'}]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$parameters[\textcolor{stringliteral}{'recurrences'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setRecurrences(\$parameters[\textcolor{stringliteral}{'recurrences'}]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$parameters[\textcolor{stringliteral}{'interval'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setDateInterval(\$parameters[\textcolor{stringliteral}{'interval'}]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (isset(\$parameters[\textcolor{stringliteral}{'options'}]))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$this-\/>setOptions(\$parameters[\textcolor{stringliteral}{'options'}]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keyword}{private}\ \textcolor{keyword}{function}\ configureTimezone(DateTimeZone\ \$timezone,\ array\ \$sortedArguments,\ array\ \$originalArguments):\ array}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \$this-\/>\mbox{\hyperlink{namespace_carbon_1_1_traits_ad021f23697a34a2339e8ba292315515e}{setTimezone}}(\$timezone);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\(\backslash\)is\_string(\$originalArguments[\textcolor{stringliteral}{'start'}]\ ??\ \textcolor{keyword}{null}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'start'}]\ =\ \$this-\/>makeDateTime(\$originalArguments[\textcolor{stringliteral}{'start'}]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\(\backslash\)is\_string(\$originalArguments[\textcolor{stringliteral}{'end'}]\ ??\ \textcolor{keyword}{null}))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \$sortedArguments[\textcolor{stringliteral}{'end'}]\ =\ \$this-\/>makeDateTime(\$originalArguments[\textcolor{stringliteral}{'end'}]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \$sortedArguments;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCodeInclude}
 