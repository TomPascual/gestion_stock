\doxysection{Guzzle\+Http\textbackslash{}Middleware Class Reference}
\hypertarget{class_guzzle_http_1_1_middleware}{}\label{class_guzzle_http_1_1_middleware}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_abb0cd141fa9bbd10ee7beda7c521a215}{cookies}} ()
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_a5ef8be96a271c020c11f30675934ba9d}{http\+Errors}} (?\mbox{\hyperlink{interface_guzzle_http_1_1_body_summarizer_interface}{Body\+Summarizer\+Interface}} \$body\+Summarizer=null)
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_a44a16ad53ee3186a658d4cc68289f890}{history}} (\&\$container)
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_a4d5ada9ac28bbcb040a7306668b149cf}{tap}} (?callable \$before=null, ?callable \$after=null)
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_a6d1b4274e26f8f1f3c51b1e4844ec9ec}{redirect}} ()
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_a1601caf0929ce4be79dbbfa0b4c44696}{retry}} (callable \$decider, ?callable \$delay=null)
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_ac6d030bb6e60f187a4b3ceb4db74505e}{log}} (\mbox{\hyperlink{interface_psr_1_1_log_1_1_logger_interface}{Logger\+Interface}} \$logger, \$formatter, string \$log\+Level=\textquotesingle{}info\textquotesingle{})
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_aa12c25e34cb9d0f743b1d8b4cf4a8087}{prepare\+Body}} ()
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_af61853d8071e1ce0cdb7949baaec17e3}{map\+Request}} (callable \$fn)
\item 
static \mbox{\hyperlink{class_guzzle_http_1_1_middleware_a387ee9898c216d62085aa32b3a7bb8e4}{map\+Response}} (callable \$fn)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions used to create and wrap handlers with handler middleware. 

\doxysubsection{Member Function Documentation}
\Hypertarget{class_guzzle_http_1_1_middleware_abb0cd141fa9bbd10ee7beda7c521a215}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!cookies@{cookies}}
\index{cookies@{cookies}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{cookies()}{cookies()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_abb0cd141fa9bbd10ee7beda7c521a215} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::cookies (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that adds cookies to requests.

The options array must be set to a Cookie\+Jar\+Interface in order to use cookies. This is typically handled for you by a client.

\begin{DoxyReturn}{Returns}
callable Returns a function that accepts the next handler. 
\end{DoxyReturn}
\Hypertarget{class_guzzle_http_1_1_middleware_a44a16ad53ee3186a658d4cc68289f890}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!history@{history}}
\index{history@{history}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{history()}{history()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_a44a16ad53ee3186a658d4cc68289f890} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::history (\begin{DoxyParamCaption}\item[{\&}]{\$container}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that pushes history data to an Array\+Access container.


\begin{DoxyParams}{Parameters}
{\em array\texorpdfstring{$\vert$}{|}} & \\
\hline
\end{DoxyParams}
Array\+Access$<$int, array$>$ \$container Container to hold the history (by reference).

\begin{DoxyReturn}{Returns}
callable(callable)\+: callable Returns a function that accepts the next handler.
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em } & \\
\hline
\end{DoxyExceptions}
Invalid\+Argument\+Exception if container is not an array or Array\+Access. \Hypertarget{class_guzzle_http_1_1_middleware_a5ef8be96a271c020c11f30675934ba9d}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!httpErrors@{httpErrors}}
\index{httpErrors@{httpErrors}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{httpErrors()}{httpErrors()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_a5ef8be96a271c020c11f30675934ba9d} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::http\+Errors (\begin{DoxyParamCaption}\item[{?\mbox{\hyperlink{interface_guzzle_http_1_1_body_summarizer_interface}{Body\+Summarizer\+Interface}}}]{\$body\+Summarizer}{ = {\ttfamily null}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that throws exceptions for 4xx or 5xx responses when the "{}http\+\_\+errors"{} request option is set to true.


\begin{DoxyParams}[1]{Parameters}
Body\+Summarizer\+Interface | null & {\em \$body\+Summarizer} & The body summarizer to use in exception messages.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
callable(callable)\+: callable Returns a function that accepts the next handler. 
\end{DoxyReturn}
\Hypertarget{class_guzzle_http_1_1_middleware_ac6d030bb6e60f187a4b3ceb4db74505e}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!log@{log}}
\index{log@{log}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{log()}{log()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_ac6d030bb6e60f187a4b3ceb4db74505e} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::log (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{interface_psr_1_1_log_1_1_logger_interface}{Logger\+Interface}}}]{\$logger}{, }\item[{}]{\$formatter}{, }\item[{string}]{\$log\+Level}{ = {\ttfamily \textquotesingle{}info\textquotesingle{}}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that logs requests, responses, and errors using a message formatter.

@phpstan-\/param \textbackslash{}\+Psr\textbackslash{}\+Log\textbackslash{}\+Log\+Level\+::\texorpdfstring{$\ast$}{*} \$log\+Level Level at which to log requests.


\begin{DoxyParams}[1]{Parameters}
Logger\+Interface & {\em \$logger} & Logs messages. \\
\hline
Message\+Formatter\+Interface | Message\+Formatter & {\em \$formatter} & Formatter used to create message strings. \\
\hline
string & {\em \$log\+Level} & Level at which to log requests.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
callable Returns a function that accepts the next handler. 
\end{DoxyReturn}
\Hypertarget{class_guzzle_http_1_1_middleware_af61853d8071e1ce0cdb7949baaec17e3}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!mapRequest@{mapRequest}}
\index{mapRequest@{mapRequest}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{mapRequest()}{mapRequest()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_af61853d8071e1ce0cdb7949baaec17e3} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::map\+Request (\begin{DoxyParamCaption}\item[{callable}]{\$fn}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that applies a map function to the request before passing to the next handler.


\begin{DoxyParams}[1]{Parameters}
callable & {\em \$fn} & Function that accepts a Request\+Interface and returns a Request\+Interface. \\
\hline
\end{DoxyParams}
\Hypertarget{class_guzzle_http_1_1_middleware_a387ee9898c216d62085aa32b3a7bb8e4}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!mapResponse@{mapResponse}}
\index{mapResponse@{mapResponse}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{mapResponse()}{mapResponse()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_a387ee9898c216d62085aa32b3a7bb8e4} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::map\+Response (\begin{DoxyParamCaption}\item[{callable}]{\$fn}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that applies a map function to the resolved promise\textquotesingle{}s response.


\begin{DoxyParams}[1]{Parameters}
callable & {\em \$fn} & Function that accepts a Response\+Interface and returns a Response\+Interface. \\
\hline
\end{DoxyParams}
\Hypertarget{class_guzzle_http_1_1_middleware_aa12c25e34cb9d0f743b1d8b4cf4a8087}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!prepareBody@{prepareBody}}
\index{prepareBody@{prepareBody}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{prepareBody()}{prepareBody()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_aa12c25e34cb9d0f743b1d8b4cf4a8087} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::prepare\+Body (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

This middleware adds a default content-\/type if possible, a default content-\/length or transfer-\/encoding header, and the expect header. \Hypertarget{class_guzzle_http_1_1_middleware_a6d1b4274e26f8f1f3c51b1e4844ec9ec}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!redirect@{redirect}}
\index{redirect@{redirect}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{redirect()}{redirect()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_a6d1b4274e26f8f1f3c51b1e4844ec9ec} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::redirect (\begin{DoxyParamCaption}{}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that handles request redirects.

\begin{DoxyReturn}{Returns}
callable Returns a function that accepts the next handler. 
\end{DoxyReturn}
\Hypertarget{class_guzzle_http_1_1_middleware_a1601caf0929ce4be79dbbfa0b4c44696}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!retry@{retry}}
\index{retry@{retry}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{retry()}{retry()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_a1601caf0929ce4be79dbbfa0b4c44696} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::retry (\begin{DoxyParamCaption}\item[{callable}]{\$decider}{, }\item[{?callable}]{\$delay}{ = {\ttfamily null}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that retries requests based on the boolean result of invoking the provided "{}decider"{} function.

If no delay function is provided, a simple implementation of exponential backoff will be utilized.


\begin{DoxyParams}[1]{Parameters}
callable & {\em \$decider} & Function that accepts the number of retries, a request, \mbox{[}response\mbox{]}, and \mbox{[}exception\mbox{]} and returns true if the request is to be retried. \\
\hline
callable & {\em \$delay} & Function that accepts the number of retries and returns the number of milliseconds to delay.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
callable Returns a function that accepts the next handler. 
\end{DoxyReturn}
\Hypertarget{class_guzzle_http_1_1_middleware_a4d5ada9ac28bbcb040a7306668b149cf}\index{GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}!tap@{tap}}
\index{tap@{tap}!GuzzleHttp\textbackslash{}Middleware@{GuzzleHttp\textbackslash{}Middleware}}
\doxysubsubsection{\texorpdfstring{tap()}{tap()}}
{\footnotesize\ttfamily \label{class_guzzle_http_1_1_middleware_a4d5ada9ac28bbcb040a7306668b149cf} 
static Guzzle\+Http\textbackslash{}\+Middleware\+::tap (\begin{DoxyParamCaption}\item[{?callable}]{\$before}{ = {\ttfamily null}, }\item[{?callable}]{\$after}{ = {\ttfamily null}}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Middleware that invokes a callback before and after sending a request.

The provided listener cannot modify or alter the response. It simply "{}taps"{} into the chain to be notified before returning the promise. The before listener accepts a request and options array, and the after listener accepts a request, options array, and response promise.


\begin{DoxyParams}[1]{Parameters}
callable & {\em \$before} & Function to invoke before forwarding the request. \\
\hline
callable & {\em \$after} & Function invoked after forwarding.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
callable Returns a function that accepts the next handler. 
\end{DoxyReturn}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
vendor/guzzlehttp/guzzle/src/Middleware.\+php\end{DoxyCompactItemize}
